import{$ as P,$a as Nr,A as Ys,D as Qs,E as Be,F as Zs,G as Li,H as Js,Ha as ca,I as Xs,Ia as la,Ja as da,Ka as ci,M as ea,Ma as he,Na as li,Oa as At,Pa as kn,Qa as Ue,Ra as Or,S as se,Sa as ua,T as Cn,U as ta,Ua as tt,V as wn,Wa as Mr,X as ue,Xa as ze,Y as ri,Ya as V,Za as W,_ as R,_a as ha,aa as O,ab as di,b as _n,ba as En,bb as He,cb as ma,db as pa,ea as ia,eb as je,fa as na,fb as We,ga as Tn,gb as fa,h as yn,ha as ra,hb as ui,i as ni,ia as ae,j as et,k as $s,kb as _a,l as ye,la as An,lb as ga,m as Ie,mb as ba,n as Gs,nb as va,p as ut,pa as oa,q as Tt,qa as Rr,r as Ce,ra as Se,rb as ya,s as we,sa as De,t as ht,ta as oi,u as Ks,ua as si,v as Ee,va as sa,wa as ai,x as qs,xa as aa,ya as mt,z as In,za as Pr}from"./chunk-3ZWTIYMJ.js";import{$a as Oi,$b as Ve,$c as Bs,Aa as fe,Ab as Ps,Ac as te,Ad as Hs,Bc as ie,Bd as dt,C as q,Cc as Jt,Da as on,Db as Ct,Dc as Xt,E as Si,Ea as sn,Ec as wt,Fb as Tr,Fc as f,Ga as jt,Gb as Wt,Gc as N,Gd as js,Ha as C,Hb as $t,Hc as T,Ia as w,Ib as Gt,Ic as hn,Jb as Os,Jd as Ws,K as ks,Kd as gn,L as nn,La as Qe,M as Fe,Mb as k,Mc as oe,Md as ii,N as wr,Na as ce,Nc as Et,Nd as bn,Oa as xs,Ob as Y,Oc as J,Od as vn,Pc as de,Qb as le,Qc as Fs,R as Ht,Ra as Ss,Rb as _e,Rc as Ls,Sa as Z,Sb as S,Sc as Vs,Ta as j,Va as Ze,Wa as A,Wc as Je,X as Di,Xa as K,Xc as Fi,Yc as ei,Za as an,_a as cn,_b as Ms,_c as xr,a as z,ac as _,b as ki,bb as Ds,bc as Ar,bd as Sr,cc as re,cd as ti,d as xi,db as Rs,dc as dn,e as yt,eb as Mi,f as d,fc as D,fd as X,g as Ye,ga as Er,gc as un,gd as mn,ha as rn,hc as Kt,hd as pn,i as ke,ia as Ri,ib as ln,ic as ge,ja as U,jc as be,jd as Us,ka as Le,kc as h,kd as Dr,l as $,la as It,lc as m,m as yr,mc as E,nc as qt,oc as Yt,od as Xe,p as Es,pa as Pi,q as Ts,qa as H,qc as Q,s as As,sc as y,t as en,ta as G,tc as b,u as Ir,uc as Qt,v as Cr,vc as Zt,w as tn,wa as a,wc as kr,x as xe,xc as Ns,ya as lt,yc as Ni,yd as zs,zb as u,zc as ve,zd as fn}from"./chunk-5NRRMIXO.js";var jl=i=>({isLiked:i&&i.isLiked?i.isLiked:null,isDisliked:i&&i.isDisliked?i.isDisliked:null}),Ia={fromApiCheckFilmVotedByUser:jl};var Wl=i=>({id:i&&i.id?i.id:null,actors:i&&i.cast?i.cast:[],crew:i&&i.crew?i.crew:[]}),Ng={fromApiGetFilmActors:Wl};var $l=i=>i?Object.keys(i).map(t=>({id:t,comment:i[t].comment.comment||null,date:i[t].date?new Date(i[t].date).toISOString():null})):[],Ca={fromApiGetFilmComments:$l};var Gl=i=>({filmImdbId:i.external_ids.imdb_id,title:i.title||i.name,posterPath:i.poster_path,playerPoster:i.backdrop_path,filmId:i.id,releaseDate:i.release_date||i.first_air_date,genres:i.genres.map(t=>t.name),overview:i.overview,voteAverage:i.vote_average,productionCountries:i.production_countries,budget:i.budget,numberOfEpisodes:i.number_of_episodes,numberOfSeasons:i.number_of_seasons,filmRuntime:i.runtime,productionCompanies:i.production_companies,status:i.status}),Vg={fromApiGetFilmDetails:Gl};var Kl=i=>({likes:i&&i.likes?i.likes:0,dislikes:i&&i.dislikes?i.dislikes:0}),wa={fromApiGetFilmVotes:Kl};var pt={production:!1,firebaseRegisterAPI:"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",firebaseLoginAPI:"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",firebaseForgotPasswordAPI:"https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=",firebaseGetCurrentUserAPI:"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=",firebaseConfig:{apiKey:"AIzaSyAqdujlQZHO_4jqkGoX3LfAawj6fbqQD7Q",authDomain:"mix-movie-4db73.firebaseapp.com",databaseURL:"https://mix-movie-4db73-default-rtdb.firebaseio.com",projectId:"mix-movie-4db73",storageBucket:"mix-movie-4db73.firebasestorage.app",messagingSenderId:"825500941616",appId:"1:825500941616:web:fa327b7f09a05816719cf5",measurementId:"G-VJR5XHFTJM"},tmdbAPIKey:"7d83a9be9a9fe9af97206c0d9c68ee68",tmdbBaseFilmsUrlAPI:"https://api.themoviedb.org/3/"};var Ea=(()=>{class i{constructor(){this.firebaseDatabaseURL=pt.firebaseConfig.databaseURL,this._httpClient=a(_n)}addFilmComment(e){return this._httpClient.post(`${this.firebaseDatabaseURL}/films/${e.filmId}/comments.json`,{comment:e.comment,date:e.date})}getFilmComments(e){return this._httpClient.get(`${this.firebaseDatabaseURL}/films/${e}/comments.json`).pipe(q(n=>Ca.fromApiGetFilmComments(n)))}addFilmVote(e){return this._httpClient.patch(`${this.firebaseDatabaseURL}/films/${e.filmId}/votes.json`,{filmId:e.filmId,likes:e.likes,dislikes:e.dislikes})}addFilmVotedUser(e){return this._httpClient.patch(`${this.firebaseDatabaseURL}/users/${e.userLocalId}/likedFilms/${e.filmId}.json`,{isLiked:e.isLiked,isDisliked:e.isDisliked})}getFilmVotes(e){return this._httpClient.get(`${this.firebaseDatabaseURL}/films/${e}/votes.json`).pipe(q(n=>wa.fromApiGetFilmVotes(n)))}checkFilmVotedByUser(e){return this._httpClient.get(`${this.firebaseDatabaseURL}/users/${e.userLocalId}/likedFilms/${e.filmId}.json`).pipe(q(n=>Ia.fromApiCheckFilmVotedByUser(n)))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac})}}return i})();var ft=new G("FilmDetailsProvider"),Ta=()=>fe([{provide:ft,useClass:Ea}]);var Te=Js({source:"Film Details",events:{opened:Li(),closed:Xs(),addFilmComment:Li(),addFilmVote:Li(),addFavouriteFilm:Li()}});var ql=At("Add Film Comments"),Yl=At("Get Film Comments"),Ql=At("Add Film Vote"),Zl=At("Add Film Liked User"),Jl=At("Check If Film Liked"),Xl=At("Get Film Likes"),I={addFilmCommentAction:ql,getFilmCommentsAction:Yl,addFilmVoteAction:Ql,addFilmVotedUserAction:Zl,checkFilmVotedByUserAction:Jl,getFilmVotesAction:Xl};var Fr={};xi(Fr,{addFavouriteFilm:()=>rd,addFilmComment:()=>id,addFilmVote:()=>nd,closedFilmDetails:()=>td,loadFilmDetails:()=>ed});var ed=R((i=a(P),t=a(ae))=>i.pipe(O(Te.opened),U(e=>{let n=t.get("userLocalId"),r="anonym"+btoa(navigator.userAgent).slice(0,28);return[Ue.filmDetailsAction.action({payload:{filmId:e.filmId,mediaType:e.mediaType}}),I.getFilmCommentsAction.action({payload:{filmId:e.filmId}}),I.getFilmVotesAction.action({payload:{filmId:e.filmId}}),I.checkFilmVotedByUserAction.action({payload:{filmId:e.filmId,userLocalId:n||r}}),Ue.getFilmsSimilarAction.action({payload:{filmId:e.filmId,mediaType:e.mediaType}}),Ue.genresAction.action({payload:{mediaType:e.mediaType}}),Or.getFavouriteFilmsAction.action({payload:{userLocalId:n}})]})),{functional:!0}),td=R((i=a(P))=>i.pipe(O(Te.closed),U(()=>[Ue.filmDetailsAction.clearAction(),Ue.filmActorsAction.clearAction(),I.getFilmCommentsAction.clearAction(),I.getFilmVotesAction.clearAction(),I.checkFilmVotedByUserAction.clearAction(),Ue.getFilmsSimilarAction.clearAction(),Ue.genresAction.clearAction()])),{functional:!0}),id=R((i=a(P))=>i.pipe(O(Te.addFilmComment),Si(t=>[I.addFilmCommentAction.action({payload:{filmId:t.filmId,comment:t.comment,date:new Date().toISOString()}})])),{functional:!0}),nd=R((i=a(P),t=a(ae))=>i.pipe(O(Te.addFilmVote),Si(e=>{let n=t.get("userLocalId"),r="anonym"+btoa(navigator.userAgent).slice(0,28);return[I.addFilmVoteAction.action({payload:{filmId:e.filmId,likes:e.likes,dislikes:e.dislikes}}),I.addFilmVotedUserAction.action({payload:{userLocalId:n||r,filmId:e.filmId,isLiked:e.isLiked,isDisliked:e.isDisliked}})]})),{functional:!0}),rd=R((i=a(P))=>i.pipe(O(Te.addFavouriteFilm),U(t=>[Or.addFavouriteFilmAction.action({payload:{filmId:t.filmId,posterPath:t.posterPath,title:t.title,voteAverage:t.voteAverage,releaseDate:t.releaseDate,genres:t.genres,mediaType:t.mediaType}})])),{functional:!0});var Lr={};xi(Lr,{handleAddFilmComment:()=>od,handleAddFilmVote:()=>ad,handleCheckFilmVotedAfterAdd:()=>ld,handleCheckFilmVotedByUser:()=>ud,handleFilmVotedByUser:()=>cd,handleGetFilmComments:()=>sd,handleGetFilmVotes:()=>dd});var od=R((i=a(P),t=a(ft))=>i.pipe(O(I.addFilmCommentAction.action),U(({payload:e})=>he(t.addFilmComment(e),I.addFilmCommentAction))),{functional:!0}),sd=R((i=a(P),t=a(ft),e=a(ae))=>i.pipe(O(I.addFilmCommentAction.succeededAction,I.getFilmCommentsAction.action),U(n=>{let r=n.payload?.filmId||e.get("filmId");return he(t.getFilmComments(r),I.getFilmCommentsAction)})),{functional:!0}),ad=R((i=a(P),t=a(ft))=>i.pipe(O(I.addFilmVoteAction.action),U(({payload:e})=>he(t.addFilmVote(e),I.addFilmVoteAction))),{functional:!0}),cd=R((i=a(P),t=a(ft))=>i.pipe(O(I.addFilmVotedUserAction.action),U(({payload:e})=>he(t.addFilmVotedUser(e),I.addFilmVotedUserAction))),{functional:!0}),ld=R((i=a(P),t=a(ae))=>i.pipe(O(I.addFilmVotedUserAction.succeededAction),U(()=>{let e=t.get("filmId"),n=t.get("userLocalId")||"anonym"+btoa(navigator.userAgent).slice(0,28);return[I.checkFilmVotedByUserAction.action({payload:{filmId:e,userLocalId:n}})]})),{functional:!0}),dd=R((i=a(P),t=a(ft),e=a(ae))=>i.pipe(O(I.getFilmVotesAction.action,I.addFilmVoteAction.succeededAction),U(n=>{let r=e.get("filmId");return he(t.getFilmVotes(r),I.getFilmVotesAction)})),{functional:!0}),ud=R((i=a(P),t=a(ft))=>i.pipe(O(I.checkFilmVotedByUserAction.action),U(({payload:e})=>he(t.checkFilmVotedByUser(e),I.checkFilmVotedByUserAction))),{functional:!0});var Aa={likes:null,dislikes:null},Vr={isLiked:null,isDisliked:null},hd=ri(null,ue(I.addFilmCommentAction.succeededAction,(i,{payload:t})=>t),ue(I.addFilmCommentAction.clearAction,()=>null)),md=ri(null,ue(I.getFilmCommentsAction.succeededAction,(i,{payload:t})=>t),ue(I.getFilmCommentsAction.clearAction,()=>null)),pd=ri(null,ue(I.addFilmVoteAction.succeededAction,(i,{payload:t})=>t),ue(I.addFilmVoteAction.clearAction,()=>null)),fd=ri(Aa,ue(I.getFilmVotesAction.succeededAction,(i,{payload:t})=>t),ue(I.getFilmVotesAction.clearAction,()=>Aa)),_d=ri(Vr,ue(I.checkFilmVotedByUserAction.succeededAction,(i,{payload:t})=>t),ue(I.checkFilmVotedByUserAction.clearAction,()=>Vr),ue(I.addFilmVotedUserAction.succeededAction,(i,{payload:t})=>t),ue(I.addFilmVotedUserAction.clearAction,()=>Vr)),xn=ta({name:ua,reducer:ea({addFilmCommentAction:li(I.addFilmCommentAction),addFilmComment:hd,filmCommentsAction:li(I.getFilmCommentsAction),filmComments:md,addFilmVoteAction:li(I.addFilmVoteAction),addFilmVote:pd,getFilmVotesAction:li(I.getFilmVotesAction),getFilmVotes:fd,filmVotedAction:li(I.checkFilmVotedByUserAction),filmVoted:_d})});var{selectAddFilmCommentAction:gd,selectAddFilmComment:bd,selectFilmCommentsAction:vd,selectFilmComments:yd,selectGetFilmVotesAction:Id,selectGetFilmVotes:Cd,selectFilmVotedAction:wd,selectFilmVoted:Ed}=xn,kt={selectAddFilmCommentAction:gd,selectAddFilmComment:bd,selectFilmCommentsAction:vd,selectFilmComments:yd,selectGetFilmVotesAction:Id,selectGetFilmVotes:Cd,selectFilmVotedAction:wd,selectFilmVoted:Ed};var Td=Cn(kt.selectFilmComments,kt.selectFilmCommentsAction,(i,t)=>({comments:i,isLoading:!kn(t)})),Ad=Cn(Nr.selectIsLoggedIn,Nr.selectAuthPopupOpen,tt.selectFilmDetails,tt.selectFilmDetailsAction,Td,kt.selectGetFilmVotes,kt.selectGetFilmVotesAction,kt.selectFilmVoted,kt.selectFilmVotedAction,tt.selectUpdatedSimilarFilms,tt.selectFilmsSimilarAction,tt.selectGenresAction,tt.selectGenres,Mr.selectFavouriteIds,Mr.selectGetFavouriteAllAction,(i,t,e,n,r,o,s,c,l,p,g,x,L,M,pe)=>({isLoggedIn:i,authPopupOpen:t,details:z({},e),comments:r.comments,isLoadingComments:r.isLoading,likes:o.likes,dislikes:o.dislikes,isLiked:c.isLiked,isDisliked:c.isDisliked,filmsSimilar:p,genres:L,favouriteFilmsIds:M,isLoading:!kn(n&&s&&l&&g&&x&&pe)})),kd=Cn(tt.selectFilmActors,tt.selectFilmActorsAction,(i,t)=>({id:i?i.id:null,actors:i?i.actors:[],crew:i?i.crew:[],isLoading:!kn(t)})),Sn={selectFilmDetailsViewModel:Ad,selectFilmActorsViewModel:kd};var ka=()=>fe([Ta(),wn(xn),En([Lr,Fr])]);function xd(i,t){if(i&1&&(h(0,"div",4),E(1,"img",6),m()),i&2){let e=b(2).$implicit;u(),Ns("ngSrc","https://image.tmdb.org/t/p/w500/",e.profile_path,"")}}function Sd(i,t){i&1&&(h(0,"div",4),E(1,"img",7),m())}function Dd(i,t){if(i&1&&(S(0,xd,2,2,"div",4)(1,Sd,2,0,"div",4),h(2,"div",5),f(3),m()),i&2){let e=b().$implicit;D(e.profile_path?0:1),u(3),N(e.name)}}function Rd(i,t){i&1&&S(0,Dd,4,2,"ng-template",3)}function Pd(i,t){if(i&1&&(qt(0),h(1,"div",1)(2,"owl-carousel-o",2),ge(3,Rd,1,0,null,3,un),m()(),Yt()),i&2){let e=b(),n=J(0);u(2),_("options",e.actorsOptions),u(),be(n==null?null:n.actors)}}var xa=(()=>{class i{constructor(){this._store=a(se),this.vm=Be(this._store.select(Sn.selectFilmActorsViewModel)),this.id=A(),this.mediaType=A(),this.actorsOptions={loop:!1,dots:!1,autoplay:!1,items:6,margin:24,nav:!0,navText:[""]}}ngOnInit(){this._store.dispatch(Ue.filmActorsAction.action({payload:{filmId:this.id(),mediaType:this.mediaType()}}))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["mm-film-actors"]],inputs:{id:[1,"id"],mediaType:[1,"mediaType"]},decls:2,vars:2,consts:[[4,"uiSpinner"],[1,"owl-carousel","owl-theme","owl-loaded","film-actors"],[1,"carousel","film-actors__carousel",3,"options"],["carouselSlide","",1,"film-actors__carousel-item"],[1,"film-actors__poster-wrap"],[1,"film-actors__name"],["alt","img","width","180","height","270",1,"film-actors__poster",3,"ngSrc"],["ngSrc","/assets/images/empty-actor.jpeg","alt","img","width","180","height","270",1,"film-actors__poster"]],template:function(n,r){if(n&1&&(oe(0),S(1,Pd,5,1,"ng-container",0)),n&2){let o=Et(r.vm());u(),_("uiSpinner",o.isLoading)}},dependencies:[da,la,ca,ci,js],styles:[`.film-actors__poster{position:relative;margin-bottom:8px;border-radius:20px;z-index:-1}.film-actors__poster-wrap{background:#05060952}.film-actors__name{font-family:Gotham-Pro-Bold,sans-serif;font-size:14px;line-height:1.5;font-weight:700}
`],encapsulation:2,changeDetection:0})}}return i})();var xt=function(i){return i.Email="email",i.Password="password",i}(xt||{});var Br=function(i){return i.Text="text",i.Password="password",i.Date="date",i.Number="number",i.Tel="tel",i.Email="email",i}(Br||{});var Dn=(()=>{class i{constructor(){this.formControlDirective=Gt(Tt),this.placeholder=A(),this.controlTypes=A(Br),this.formGroup=A(Gs),this.formControlName=A(),this.formControl=A(),this.showValidationMessage=A(!0),this.isFocused=cn(!1),this.focused=Ze(),this._controlContainer=a($s,{skipSelf:!0,optional:!0}),this._elementRef=a(K)}ngOnInit(){this.control=this.formControl()||this._controlContainer.control.get(this.formControlName()),this._toggleDisabledAttr(this.control.disabled)}registerOnTouched(e){this.formControlDirective().valueAccessor.registerOnTouched(e)}registerOnChange(e){this.formControlDirective().valueAccessor.registerOnChange(e)}writeValue(e){this.formControlDirective().valueAccessor.writeValue(e)}setDisabledState(e){this.formControlDirective().valueAccessor.setDisabledState(e),this._toggleDisabledAttr(e)}setIsFocused(e){this.isFocused.set(e),e&&this.focused.emit()}_toggleDisabledAttr(e){e?this._elementRef.nativeElement.setAttribute("disabled",e):this._elementRef.nativeElement.removeAttribute("disabled")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["ng-component"]],viewQuery:function(n,r){n&1&&Jt(r.formControlDirective,Tt,5),n&2&&Xt()},inputs:{placeholder:[1,"placeholder"],controlTypes:[1,"controlTypes"],formGroup:[1,"formGroup"],formControlName:[1,"formControlName"],formControl:[1,"formControl"],showValidationMessage:[1,"showValidationMessage"]},outputs:{focused:"focused"},standalone:!1,decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return i})();function Od(i,t){i&1&&(h(0,"div",0),f(1),m()),i&2&&(u(),T(" ",t," "))}function Md(i,t){i&1&&f(0," \u041F\u043E\u043B\u0435 \u043E\u0431\u043E\u0432'\u044F\u0437\u043A\u043E\u0432\u0435 ")}function Nd(i,t){i&1&&f(0," \u041F\u0440\u043E\u0431\u0456\u043B\u0438 \u043D\u0435 \u0434\u043E\u043F\u0443\u0441\u043A\u0430\u044E\u0442\u044C\u0441\u044F ")}function Fd(i,t){if(i&1&&f(0),i&2){let e=b(5);T(" \u041F\u043E\u0442\u0440\u0456\u0431\u043D\u043E \u043D\u0435 \u043C\u0435\u043D\u0448\u0435 ",e.errors().minlength.requiredLength," \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432 ")}}function Ld(i,t){if(i&1&&f(0),i&2){let e=b(5);T(" \u041F\u043E\u0442\u0440\u0456\u0431\u043D\u043E \u043D\u0435 \u0431\u0456\u043B\u044C\u0448\u0435 ",e.errors().maxlength.requiredLength," \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432 ")}}function Vd(i,t){i&1&&f(0," \u0421\u0438\u043C\u0432\u043E\u043B\u0438 \u043F\u043E\u0432\u0438\u043D\u043D\u0456 \u0431\u0443\u0442\u0438 \u0432 \u043D\u0438\u0436\u043D\u044C\u043E\u043C\u0443 \u0456 \u0432\u0435\u0440\u0445\u043D\u044C\u043E\u043C\u0443 \u0440\u0435\u0433\u0456\u0441\u0442\u0440\u0430\u0445 ")}function Bd(i,t){i&1&&f(0," \u041F\u043E\u0442\u0440\u0456\u0431\u043D\u0430 \u043A\u043E\u043C\u0431\u0456\u043D\u0430\u0446\u0456\u044F \u0437 \u0447\u0438\u0441\u0435\u043B \u0456 \u0431\u0443\u043A\u0432 ")}function Ud(i,t){i&1&&f(0," \u041F\u0430\u0440\u043E\u043B\u0456 \u043D\u0435 \u0441\u043F\u0456\u0432\u043F\u0430\u0434\u0430\u044E\u0442\u044C ")}function zd(i,t){i&1&&f(0," \u041D\u0435 \u0432\u0456\u0440\u043D\u0430 \u0434\u0430\u0442\u0430 ")}function Hd(i,t){i&1&&f(0," \u041D\u0435 \u0434\u043E\u0437\u0432\u043E\u043B\u0435\u043D\u0438\u0439 \u0432\u0456\u043A ")}function jd(i,t){i&1&&f(0," \u041D\u0435\u0432\u0456\u0440\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u0430\u0434\u0440\u0435\u0441\u0438 ")}function Wd(i,t){if(i&1&&f(0),i&2){let e=b(5);T(" ",e.errors().validationError," ")}}function $d(i,t){if(i&1&&f(0),i&2){let e=b(5);T(" ",e.errors().backendError," ")}}function Gd(i,t){i&1&&f(0," \u041D\u0435\u0432\u0456\u0440\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 ")}function Kd(i,t){i&1&&f(0," \u041F\u043E\u0442\u0440\u0456\u0431\u043D\u043E \u043E\u0431\u0440\u0430\u0442\u0438 ")}function qd(i,t){i&1&&f(0," \u0414\u0430\u0442\u0430 \u043D\u0435 \u0430\u043A\u0442\u0443\u0430\u043B\u044C\u043D\u0430 ")}function Yd(i,t){if(i&1&&(h(0,"div",0),S(1,Md,1,0)(2,Nd,1,0)(3,Fd,1,1)(4,Ld,1,1)(5,Vd,1,0)(6,Bd,1,0)(7,Ud,1,0)(8,zd,1,0)(9,Hd,1,0)(10,jd,1,0)(11,Wd,1,1)(12,$d,1,1)(13,Gd,1,0)(14,Kd,1,0)(15,qd,1,0),m()),i&2){let e,n=b(2).$implicit;Ve("data-testid","appValidationMessage"),u(),D((e=n)==="required"?1:e==="whitespacePresented"?2:e==="minlength"?3:e==="maxlength"?4:e==="lowerAndUpperCase"?5:e==="numberAndLetter"?6:e==="matchPasswords"?7:e==="dateInvalid"?8:e==="ageRestricted"?9:e==="email"?10:e==="validationError"?11:e==="backendError"?12:e==="mask"?13:e==="valueNotSelected"?14:e==="pastDate"?15:-1)}}function Qd(i,t){if(i&1&&S(0,Od,2,1,"div",0)(1,Yd,16,2,"div",0),i&2){let e,n=b().$implicit,r=b(2);D((e=r.errorDictionary()&&r.errorDictionary()[n])?0:1,e)}}function Zd(i,t){if(i&1&&S(0,Qd,2,1),i&2){let e=t.$index,n=b(2);D(e===0||!n.isSingleError()?0:-1)}}function Jd(i,t){if(i&1&&ge(0,Zd,1,1,null,null,un),i&2){let e=b();be(e.errorsList())}}var Rn=(()=>{class i{constructor(){this.errors=A(),this.errorDictionary=A(),this.errorParams=A(),this.isSingleError=A(!1),this.errorsList=pn(()=>{let e=this.errors(),n=[];return e&&Object.entries(e).forEach(([r,o])=>{o&&n.push(r)}),n})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["pu-validation-message"]],inputs:{errors:[1,"errors"],errorDictionary:[1,"errorDictionary"],errorParams:[1,"errorParams"],isSingleError:[1,"isSingleError"]},decls:1,vars:1,consts:[[1,"error"]],template:function(n,r){n&1&&S(0,Jd,2,0),n&2&&D(r.errorsList().length?0:-1)},styles:['[_nghost-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:12px;line-height:1.5;font-weight:400;display:flex;flex-direction:column;margin:4px auto 0 8px;color:#f80032;text-align:start}.error[_ngcontent-%COMP%]{position:relative;padding-left:12px}.error[_ngcontent-%COMP%]:before{position:absolute;content:"";top:.5rem;transform:translateY(-50%);left:0;width:.25rem;height:.25rem;border-radius:50%;background:#f80032}'],changeDetection:0})}}return i})();function Xd(i,t){if(i&1&&E(0,"pu-validation-message",2),i&2){let e=b();_("errors",e.control.errors)}}var hi=(()=>{class i extends Dn{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})()}static{this.\u0275cmp=k({type:i,selectors:[["mm-email-input"]],features:[de([{provide:yn,useExisting:Pi(()=>i),multi:!0}]),le],decls:4,vars:6,consts:[[3,"formGroup"],[1,"email-input",3,"type","placeholder","formControlName","formControl"],[3,"errors"]],template:function(n,r){if(n&1&&(oe(0),h(1,"div",0),E(2,"input",1),m(),S(3,Xd,1,1,"pu-validation-message",2)),n&2){let o=r.control.touched&&r.control.invalid;u(),_("formGroup",r.formGroup()),u(),_("type",r.controlTypes().Email)("placeholder",r.placeholder())("formControlName",r.formControlName())("formControl",r.control),u(),D(o&&r.showValidationMessage()?3:-1)}},dependencies:[Ee,ni,ye,Ie,Tt,Ce,we,Rn],styles:[".email-input[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;width:100%;padding:16px;color:var(--color-input-text);background:var(--color-input-bg);border-radius:12px;border:1px solid var(--color-input-border)}.email-input[_ngcontent-%COMP%]:focus{outline:none}.email-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid #f80032}"]})}}return i})();function eu(i,t){if(i&1){let e=Q();h(0,"mm-icon",5),y("click",function(){C(e);let r=b();return w(r.toggleVisibility())}),m()}if(i&2){let e=b();_("iconName",e.isPasswordVisible?"eye-show":"eye-hide")}}function tu(i,t){if(i&1&&E(0,"pu-validation-message",3),i&2){let e=b();_("errors",e.control.errors)}}function iu(i,t){if(i&1&&(h(0,"p",6),E(1,"mm-icon",7),h(2,"span"),f(3,"\u041D\u0435 \u043C\u0435\u043D\u0448\u0435 6 \u0456 \u043D\u0435 \u0431\u0456\u043B\u044C\u0448\u0435 14 \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432."),m()()),i&2){let e=b();re("password-input__validator--active",!(e.control.value===""||e.control.errors!=null&&e.control.errors.minlength||e.control.errors!=null&&e.control.errors.maxlength)),u(),_("iconName",e.control.value===""||e.control.errors!=null&&e.control.errors.minlength||e.control.errors!=null&&e.control.errors.maxlength?"checkpoint-no":"checkpoint-yes")}}var Pn=(()=>{class i extends Dn{constructor(){super(...arguments),this.showToggle=!0,this.isPasswordVisible=!1}toggleVisibility(){this.isPasswordVisible=!this.isPasswordVisible}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})()}static{this.\u0275cmp=k({type:i,selectors:[["mm-password-input"]],features:[de([{provide:yn,useExisting:Pi(()=>i),multi:!0}]),le],decls:6,vars:8,consts:[[1,"password-input__wrap",3,"formGroup"],[1,"password-input",3,"type","placeholder","formControlName","formControl"],["size","m",1,"password-input__icon",3,"iconName"],[3,"errors"],[1,"password-input__validator","password-input__validator--error",3,"password-input__validator--active"],["size","m",1,"password-input__icon",3,"click","iconName"],[1,"password-input__validator","password-input__validator--error"],["size","s",1,"password-input__validator-icon",3,"iconName"]],template:function(n,r){if(n&1&&(oe(0),h(1,"div",0),E(2,"input",1),S(3,eu,1,1,"mm-icon",2),m(),S(4,tu,1,1,"pu-validation-message",3)(5,iu,4,3,"p",4)),n&2){let o=r.control.touched&&r.control.invalid;u(),_("formGroup",r.formGroup()),u(),_("type",r.isPasswordVisible?r.controlTypes().Text:r.controlTypes().Password)("placeholder",r.placeholder())("formControlName",r.formControlName())("formControl",r.control),u(),D(r.showToggle?3:-1),u(),D(o&&r.showValidationMessage()?4:-1),u(),D(r.control.value!==""||r.control.errors!=null&&r.control.errors.minlength||r.control.errors!=null&&r.control.errors.maxlength?5:-1)}},dependencies:[Ee,ni,ye,Ie,Tt,Ce,we,We,Rn],styles:[".password-input[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;width:100%;padding:16px;color:var(--color-input-text);background:var(--color-input-bg);border-radius:12px;border:1px solid var(--color-input-border)}.password-input[_ngcontent-%COMP%]:focus{outline:none}.password-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid #f80032}.password-input__wrap[_ngcontent-%COMP%]{position:relative}.password-input__icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:16px;transform:translateY(-50%);cursor:pointer}.password-input__validator[_ngcontent-%COMP%]{display:flex;align-items:center}.password-input__validator-icon[_ngcontent-%COMP%]{margin-right:4px}.password-input__validator--whitespace[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:12px;line-height:1.5;font-weight:400;margin:4px auto 0 0;padding-left:4px;color:#f80032;text-align:start}.password-input__validator--error[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:12px;line-height:1.5;font-weight:400;padding-left:4px;color:#f80032;text-align:start}.password-input__validator--active[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:12px;line-height:1.5;font-weight:400;margin:4px auto 0 8px;color:#8e8e8e;text-align:start}.password-input__validator--active[_ngcontent-%COMP%]   .password-input__validator-icon[_ngcontent-%COMP%]{color:green}"]})}}return i})();var nu=2,ru=2,ou=4,su=31,au=32,cu=64,lu="@",du="..",uu=".",hu=/^[a-zA-Z0-9_.-]{1,31}@[a-zA-Z0-9](?:[_.-]?[a-zA-Z0-9]){2,32}$/;function mu(i){if(i.length>cu)return!1;let t=i.split(lu);if(t.length!==nu)return!1;let e=t[0],n=t[1];if(e.length>su||n.length>au||i.includes(du))return!1;let r=n.split(uu);return r.length>ou||r.length<ru?!1:!!i.match(hu)}var pu=i=>mu(i.value)?null:{email:!0},mi=[et.required,pu];var fu=6,_u=14;var gu=i=>i.value?.includes(" ")?(console.log("Whitespace detected in value:",i.value),{whitespacePresented:!0}):null,On=[et.required,et.minLength(fu),et.maxLength(_u),gu];var bu={};xi(bu,{forgotPassword:()=>Ra,login:()=>Da,logout:()=>Pa,register:()=>Sa});var Ur={};xi(Ur,{forgotPassword:()=>Ra,login:()=>Da,logout:()=>Pa,register:()=>Sa});var Sa=R((i=a(P))=>i.pipe(O(V.register),q(t=>W.registerAction.action({payload:t.request}))),{functional:!0}),Da=R((i=a(P))=>i.pipe(O(V.login),Di(),It(()=>console.log("[Auth Effects] AuthActions.login caught")),q(t=>W.loginAction.action({payload:t.request}))),{functional:!0}),Ra=R((i=a(P))=>i.pipe(O(V.forgotPassword),q(t=>W.forgotPasswordAction.action({payload:t.request}))),{functional:!0}),Pa=R((i=a(P),t=a(ae),e=a(In))=>i.pipe(O(V.logOut),It(()=>{t.remove("accessToken"),t.remove("userLocalId"),e.navigateByUrl("/").then(()=>{})})),{dispatch:!1,functional:!0});var Ma=function(i){let t=[],e=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},vu=function(i){let t=[],e=0,n=0;for(;e<i.length;){let r=i[e++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let o=i[e++];t[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=i[e++],s=i[e++],c=i[e++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{let o=i[e++],s=i[e++];t[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Mn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let o=i[r],s=r+1<i.length,c=s?i[r+1]:0,l=r+2<i.length,p=l?i[r+2]:0,g=o>>2,x=(o&3)<<4|c>>4,L=(c&15)<<2|p>>6,M=p&63;l||(M=64,s||(L=64)),n.push(e[g],e[x],e[L],e[M])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Ma(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):vu(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let o=e[i.charAt(r++)],c=r<i.length?e[i.charAt(r)]:0;++r;let p=r<i.length?e[i.charAt(r)]:64;++r;let x=r<i.length?e[i.charAt(r)]:64;if(++r,o==null||c==null||p==null||x==null)throw new Hr;let L=o<<2|c>>4;if(n.push(L),p!==64){let M=c<<4&240|p>>2;if(n.push(M),x!==64){let pe=p<<6&192|x;n.push(pe)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},Hr=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yu=function(i){let t=Ma(i);return Mn.encodeByteArray(t,!0)},Wr=function(i){return yu(i).replace(/\./g,"")},$r=function(i){try{return Mn.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Na(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Iu=()=>Na().__FIREBASE_DEFAULTS__,Cu=()=>{if(typeof process>"u"||typeof process.env>"u")return;let i=process.env.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wu=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=i&&$r(i[1]);return t&&JSON.parse(t)},Gr=()=>{try{return Iu()||Cu()||wu()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Fa=i=>{var t,e;return(e=(t=Gr())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]};var Kr=()=>{var i;return(i=Gr())===null||i===void 0?void 0:i.config},qr=i=>{var t;return(t=Gr())===null||t===void 0?void 0:t[`_${i}`]};var St=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}};function ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function La(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function Va(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ba(){let i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Ua(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function za(){let i=ne();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Nn(){try{return typeof indexedDB=="object"}catch{return!1}}function Ha(){return new Promise((i,t)=>{try{let e=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}var Eu="FirebaseError",Re=class i extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=Eu,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}},Pe=class{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){let n=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?Tu(o,n):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new Re(r,c,n)}};function Tu(i,t){return i.replace(Au,(e,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var Au=/\{\$([^}]+)}/g;function ja(i){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function pi(i,t){if(i===t)return!0;let e=Object.keys(i),n=Object.keys(t);for(let r of e){if(!n.includes(r))return!1;let o=i[r],s=t[r];if(Oa(o)&&Oa(s)){if(!pi(o,s))return!1}else if(o!==s)return!1}for(let r of n)if(!e.includes(r))return!1;return!0}function Oa(i){return i!==null&&typeof i=="object"}function fi(i){let t=[];for(let[e,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Wa(i,t){let e=new jr(i,t);return e.subscribe.bind(e)}var jr=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");ku(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:n},r.next===void 0&&(r.next=zr),r.error===void 0&&(r.error=zr),r.complete===void 0&&(r.complete=zr);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ku(i,t){if(typeof i!="object"||i===null)return!1;for(let e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function zr(){}var x0=4*60*60*1e3;function it(i){return i&&i._delegate?i._delegate:i}var me=class{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Dt="[DEFAULT]";var Yr=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let n=new St;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let n=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Su(t))try{this.getOrInitializeService({instanceIdentifier:Dt})}catch{}for(let[e,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(t=Dt){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return d(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Dt){return this.instances.has(t)}getOptions(t=Dt){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);n===c&&s.resolve(r)}return r}onInit(t,e){var n;let r=this.normalizeInstanceIdentifier(e),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){let n=this.onInitCallbacks.get(e);if(n)for(let r of n)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:xu(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Dt){return this.component?this.component.multipleInstances?t:Dt:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xu(i){return i===Dt?void 0:i}function Su(i){return i.instantiationMode==="EAGER"}var Fn=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new Yr(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var Du=[],F=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(F||{}),Ru={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},Pu=F.INFO,Ou={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Mu=(i,t,...e)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=Ou[t];if(r)console[r](`[${n}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},_t=class{constructor(t){this.name=t,this._logLevel=Pu,this._logHandler=Mu,this._userLogHandler=null,Du.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in F))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ru[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...t),this._logHandler(this,F.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...t),this._logHandler(this,F.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,F.INFO,...t),this._logHandler(this,F.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,F.WARN,...t),this._logHandler(this,F.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...t),this._logHandler(this,F.ERROR,...t)}};var Nu=(i,t)=>t.some(e=>i instanceof e),$a,Ga;function Fu(){return $a||($a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lu(){return Ga||(Ga=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ka=new WeakMap,Zr=new WeakMap,qa=new WeakMap,Qr=new WeakMap,Xr=new WeakMap;function Vu(i){let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("success",o),i.removeEventListener("error",s)},o=()=>{e($e(i.result)),r()},s=()=>{n(i.error),r()};i.addEventListener("success",o),i.addEventListener("error",s)});return t.then(e=>{e instanceof IDBCursor&&Ka.set(e,i)}).catch(()=>{}),Xr.set(t,i),t}function Bu(i){if(Zr.has(i))return;let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("complete",o),i.removeEventListener("error",s),i.removeEventListener("abort",s)},o=()=>{e(),r()},s=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",o),i.addEventListener("error",s),i.addEventListener("abort",s)});Zr.set(i,t)}var Jr={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Zr.get(i);if(t==="objectStoreNames")return i.objectStoreNames||qa.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return $e(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Ya(i){Jr=i(Jr)}function Uu(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let n=i.call(Ln(this),t,...e);return qa.set(n,t.sort?t.sort():[t]),$e(n)}:Lu().includes(i)?function(...t){return i.apply(Ln(this),t),$e(Ka.get(this))}:function(...t){return $e(i.apply(Ln(this),t))}}function zu(i){return typeof i=="function"?Uu(i):(i instanceof IDBTransaction&&Bu(i),Nu(i,Fu())?new Proxy(i,Jr):i)}function $e(i){if(i instanceof IDBRequest)return Vu(i);if(Qr.has(i))return Qr.get(i);let t=zu(i);return t!==i&&(Qr.set(i,t),Xr.set(t,i)),t}var Ln=i=>Xr.get(i);function Za(i,t,{blocked:e,upgrade:n,blocking:r,terminated:o}={}){let s=indexedDB.open(i,t),c=$e(s);return n&&s.addEventListener("upgradeneeded",l=>{n($e(s.result),l.oldVersion,l.newVersion,$e(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}var Hu=["get","getKey","getAll","getAllKeys","count"],ju=["put","add","delete","clear"],eo=new Map;function Qa(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(eo.get(t))return eo.get(t);let e=t.replace(/FromIndex$/,""),n=t!==e,r=ju.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(r||Hu.includes(e)))return;let o=function(s,...c){return d(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),p=l.store;return n&&(p=p.index(c.shift())),(yield Promise.all([p[e](...c),r&&l.done]))[0]})};return eo.set(t,o),o}Ya(i=>ki(z({},i),{get:(t,e,n)=>Qa(t,e)||i.get(t,e,n),has:(t,e)=>!!Qa(t,e)||i.has(t,e)}));var io=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Wu(e)){let n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}};function Wu(i){let t=i.getComponent();return t?.type==="VERSION"}var no="@firebase/app",Ja="0.10.18";var nt=new _t("@firebase/app"),$u="@firebase/app-compat",Gu="@firebase/analytics-compat",Ku="@firebase/analytics",qu="@firebase/app-check-compat",Yu="@firebase/app-check",Qu="@firebase/auth",Zu="@firebase/auth-compat",Ju="@firebase/database",Xu="@firebase/data-connect",eh="@firebase/database-compat",th="@firebase/functions",ih="@firebase/functions-compat",nh="@firebase/installations",rh="@firebase/installations-compat",oh="@firebase/messaging",sh="@firebase/messaging-compat",ah="@firebase/performance",ch="@firebase/performance-compat",lh="@firebase/remote-config",dh="@firebase/remote-config-compat",uh="@firebase/storage",hh="@firebase/storage-compat",mh="@firebase/firestore",ph="@firebase/vertexai",fh="@firebase/firestore-compat",_h="firebase",gh="11.2.0";var ro="[DEFAULT]",bh={[no]:"fire-core",[$u]:"fire-core-compat",[Ku]:"fire-analytics",[Gu]:"fire-analytics-compat",[Yu]:"fire-app-check",[qu]:"fire-app-check-compat",[Qu]:"fire-auth",[Zu]:"fire-auth-compat",[Ju]:"fire-rtdb",[Xu]:"fire-data-connect",[eh]:"fire-rtdb-compat",[th]:"fire-fn",[ih]:"fire-fn-compat",[nh]:"fire-iid",[rh]:"fire-iid-compat",[oh]:"fire-fcm",[sh]:"fire-fcm-compat",[ah]:"fire-perf",[ch]:"fire-perf-compat",[lh]:"fire-rc",[dh]:"fire-rc-compat",[uh]:"fire-gcs",[hh]:"fire-gcs-compat",[mh]:"fire-fst",[fh]:"fire-fst-compat",[ph]:"fire-vertex","fire-js":"fire-js",[_h]:"fire-js-all"};var Bi=new Map,vh=new Map,oo=new Map;function Xa(i,t){try{i.container.addComponent(t)}catch(e){nt.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function rt(i){let t=i.name;if(oo.has(t))return nt.debug(`There were multiple attempts to register component ${t}.`),!1;oo.set(t,i);for(let e of Bi.values())Xa(e,i);for(let e of vh.values())Xa(e,i);return!0}function Vn(i,t){let e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Ge(i){return i.settings!==void 0}var yh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gt=new Pe("app","Firebase",yh);var so=class{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new me("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}};var _i=gh;function lo(i,t={}){let e=i;typeof t!="object"&&(t={name:t});let n=Object.assign({name:ro,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw gt.create("bad-app-name",{appName:String(r)});if(e||(e=Kr()),!e)throw gt.create("no-options");let o=Bi.get(r);if(o){if(pi(e,o.options)&&pi(n,o.config))return o;throw gt.create("duplicate-app",{appName:r})}let s=new Fn(r);for(let l of oo.values())s.addComponent(l);let c=new so(e,n,s);return Bi.set(r,c),c}function zi(i=ro){let t=Bi.get(i);if(!t&&i===ro&&Kr())return lo();if(!t)throw gt.create("no-app",{appName:i});return t}function Bn(){return Array.from(Bi.values())}function ee(i,t,e){var n;let r=(n=bh[i])!==null&&n!==void 0?n:i;e&&(r+=`-${e}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nt.warn(c.join(" "));return}rt(new me(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var Ih="firebase-heartbeat-database",Ch=1,Ui="firebase-heartbeat-store",to=null;function nc(){return to||(to=Za(Ih,Ch,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Ui)}catch(e){console.warn(e)}}}}).catch(i=>{throw gt.create("idb-open",{originalErrorMessage:i.message})})),to}function wh(i){return d(this,null,function*(){try{let e=(yield nc()).transaction(Ui),n=yield e.objectStore(Ui).get(rc(i));return yield e.done,n}catch(t){if(t instanceof Re)nt.warn(t.message);else{let e=gt.create("idb-get",{originalErrorMessage:t?.message});nt.warn(e.message)}}})}function ec(i,t){return d(this,null,function*(){try{let n=(yield nc()).transaction(Ui,"readwrite");yield n.objectStore(Ui).put(t,rc(i)),yield n.done}catch(e){if(e instanceof Re)nt.warn(e.message);else{let n=gt.create("idb-set",{originalErrorMessage:e?.message});nt.warn(n.message)}}})}function rc(i){return`${i.name}!${i.options.appId}`}var Eh=1024,Th=30*24*60*60*1e3,ao=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new co(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return d(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tc();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=Th}),this._storage.overwrite(this._heartbeatsCache))}catch(n){nt.warn(n)}})}getHeartbeatsHeader(){return d(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=tc(),{heartbeatsToSend:n,unsentEntries:r}=Ah(this._heartbeatsCache.heartbeats),o=Wr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return nt.warn(e),""}})}};function tc(){return new Date().toISOString().substring(0,10)}function Ah(i,t=Eh){let e=[],n=i.slice();for(let r of i){let o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),ic(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),ic(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}var co=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return d(this,null,function*(){return Nn()?Ha().then(()=>!0).catch(()=>!1):!1})}read(){return d(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield wh(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return d(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ec(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return d(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ec(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function ic(i){return Wr(JSON.stringify({version:2,heartbeats:i})).length}function kh(i){rt(new me("platform-logger",t=>new io(t),"PRIVATE")),rt(new me("heartbeat",t=>new ao(t),"PRIVATE")),ee(no,Ja,i),ee(no,Ja,"esm2017"),ee("fire-js","")}kh("");var xh="firebase",Sh="11.2.0";ee(xh,Sh,"app");var bi=new xr("ANGULARFIRE2_VERSION");function uo(i,t,e){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===e);if(o.length===1)return o[0]}return e.container.getProvider(i).getImmediate({optional:!0})}var zn=(i,t)=>{let e=t?[t]:Bn(),n=[];return e.forEach(r=>{r.container.getProvider(i).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},gi=function(i){return i[i.SILENT=0]="SILENT",i[i.WARN=1]="WARN",i[i.VERBOSE=2]="VERBOSE",i}(gi||{}),oc=Sr()&&typeof Zone<"u"?gi.WARN:gi.SILENT;var Un=class{zone;delegate;constructor(t,e=Ts){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){let r=this.zone,o=function(s){r?r.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,e,n)}},vi=(()=>{class i{outsideAngular;insideAngular;constructor(){let e=a(j);this.outsideAngular=e.runOutsideAngular(()=>new Un(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new Un(typeof Zone>"u"?void 0:Zone.current,Es))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),sc=!1;function Dh(i,t){!sc&&(oc>gi.SILENT||Sr())&&(sc=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),oc>=t&&console.warn(`Firebase API called outside injection context: ${i.name}`)}function Rh(i){let t=a(j,{optional:!0});return t?t.runOutsideAngular(()=>i()):i()}function Rt(i){let t=a(j,{optional:!0});return t?t.run(()=>i()):i()}var Ph=(i,t,e)=>(...n)=>(t&&setTimeout(t,0),sn(e,()=>Rt(()=>i.apply(void 0,n)))),Pt=(i,t,e)=>(e||=t?gi.WARN:gi.VERBOSE,function(){let n,r=arguments,o,s,c;try{o=a(vi),s=a(Ss),c=a(on)}catch{return Dh(i,e),i.apply(this,r)}for(let p=0;p<arguments.length;p++)typeof r[p]=="function"&&(t&&(n||=Rt(()=>s.add())),r[p]=Ph(r[p],n,c));let l=Rh(()=>i.apply(this,r));return t?l instanceof ke?l.pipe(Cr(o.outsideAngular),Ir(o.insideAngular),Zs(c)):l instanceof Promise?Rt(()=>new Promise((p,g)=>{s.run(()=>l).then(x=>sn(c,()=>Rt(()=>p(x))),x=>sn(c,()=>Rt(()=>g(x))))})):typeof l=="function"&&n?function(){return setTimeout(n,0),l.apply(this,arguments)}:Rt(()=>l):l instanceof ke?l.pipe(Cr(o.outsideAngular),Ir(o.insideAngular)):Rt(()=>l)});var Ot=class{constructor(t){return t}},Hi=class{constructor(){return Bn()}};function Oh(i){return i&&i.length===1?i[0]:new Ot(zi())}var ho=new G("angularfire2._apps"),Mh={provide:Ot,useFactory:Oh,deps:[[new lt,ho]]},Nh={provide:Hi,deps:[[new lt,ho]]};function Fh(i){return(t,e)=>{let n=e.get(Rs);ee("angularfire",bi.full,"core"),ee("angularfire",bi.full,"app"),ee("angular",Bs.full,n.toString());let r=t.runOutsideAngular(()=>i(e));return new Ot(r)}}function fy(i,...t){return fe([Mh,Nh,{provide:ho,useFactory:Fh(i),multi:!0,deps:[j,ce,vi,...t]}])}var _y=Pt(lo,!0);var Lh=new Map,Vh={activated:!1,tokenObservers:[]},Bh={initialized:!1,enabled:!1};function Oe(i){return Lh.get(i)||Object.assign({},Vh)}function uc(){return Bh}var Uh="https://content-firebaseappcheck.googleapis.com/v1";var zh="exchangeDebugToken",ac={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ty=24*60*60*1e3;var po=class{constructor(t,e,n,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return d(this,null,function*(){this.stop();try{this.pending=new St,this.pending.promise.catch(e=>{}),yield Hh(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new St,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function Hh(i){return new Promise(t=>{setTimeout(t,i)})}var jh={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},bt=new Pe("appCheck","AppCheck",jh);function hc(i){if(!Oe(i).activated)throw bt.create("use-before-activation",{appName:i.name})}function mc(n,r){return d(this,arguments,function*({url:i,body:t},e){let o={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){let M=yield s.getHeartbeatsHeader();M&&(o["X-Firebase-Client"]=M)}let c={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(i,c)}catch(M){throw bt.create("fetch-network-error",{originalErrorMessage:M?.message})}if(l.status!==200)throw bt.create("fetch-status-error",{httpStatus:l.status});let p;try{p=yield l.json()}catch(M){throw bt.create("fetch-parse-error",{originalErrorMessage:M?.message})}let g=p.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});let x=Number(g[1])*1e3,L=Date.now();return{token:p.token,expireTimeMillis:L+x,issuedAtTimeMillis:L}})}function pc(i,t){let{projectId:e,appId:n,apiKey:r}=i.options;return{url:`${Uh}/projects/${e}/apps/${n}:${zh}?key=${r}`,body:{debug_token:t}}}var Wh="firebase-app-check-database",$h=1,fo="firebase-app-check-store";var Hn=null;function Gh(){return Hn||(Hn=new Promise((i,t)=>{try{let e=indexedDB.open(Wh,$h);e.onsuccess=n=>{i(n.target.result)},e.onerror=n=>{var r;t(bt.create("storage-open",{originalErrorMessage:(r=n.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(fo,{keyPath:"compositeKey"})}}}catch(e){t(bt.create("storage-open",{originalErrorMessage:e?.message}))}}),Hn)}function Kh(i,t){return qh(Yh(i),t)}function qh(i,t){return d(this,null,function*(){let n=(yield Gh()).transaction(fo,"readwrite"),o=n.objectStore(fo).put({compositeKey:i,value:t});return new Promise((s,c)=>{o.onsuccess=l=>{s()},n.onerror=l=>{var p;c(bt.create("storage-set",{originalErrorMessage:(p=l.target.error)===null||p===void 0?void 0:p.message}))}})})}function Yh(i){return`${i.options.appId}-${i.name}`}var _o=new _t("@firebase/app-check");function mo(i,t){return Nn()?Kh(i,t).catch(e=>{_o.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function fc(){return uc().enabled}function _c(){return d(this,null,function*(){let i=uc();if(i.enabled&&i.token)return i.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Qh={error:"UNKNOWN_ERROR"};function Zh(i){return Mn.encodeString(JSON.stringify(i),!1)}function go(i,t=!1){return d(this,null,function*(){let e=i.app;hc(e);let n=Oe(e),r=n.token,o;if(r&&!ji(r)&&(n.token=void 0,r=void 0),!r){let l=yield n.cachedTokenPromise;l&&(ji(l)?r=l:yield mo(e,void 0))}if(!t&&r&&ji(r))return{token:r.token};let s=!1;if(fc()){n.exchangeTokenPromise||(n.exchangeTokenPromise=mc(pc(e,yield _c()),i.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),s=!0);let l=yield n.exchangeTokenPromise;return yield mo(e,l),n.token=l,{token:l.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),s=!0),r=yield Oe(e).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?_o.warn(l.message):_o.error(l),o=l}let c;return r?o?ji(r)?c={token:r.token,internalError:o}:c=lc(o):(c={token:r.token},n.token=r,yield mo(e,r)):c=lc(o),s&&tm(e,c),c})}function Jh(i){return d(this,null,function*(){let t=i.app;hc(t);let{provider:e}=Oe(t);if(fc()){let n=yield _c(),{token:r}=yield mc(pc(t,n),i.heartbeatServiceProvider);return{token:r}}else{let{token:n}=yield e.getToken();return{token:n}}})}function Xh(i,t,e,n){let{app:r}=i,o=Oe(r),s={next:e,error:n,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ji(o.token)){let c=o.token;Promise.resolve().then(()=>{e({token:c.token}),cc(i)}).catch(()=>{})}o.cachedTokenPromise.then(()=>cc(i))}function gc(i,t){let e=Oe(i),n=e.tokenObservers.filter(r=>r.next!==t);n.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=n}function cc(i){let{app:t}=i,e=Oe(t),n=e.tokenRefresher;n||(n=em(i),e.tokenRefresher=n),!n.isRunning()&&e.isTokenAutoRefreshEnabled&&n.start()}function em(i){let{app:t}=i;return new po(()=>d(this,null,function*(){let e=Oe(t),n;if(e.token?n=yield go(i,!0):n=yield go(i),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{let e=Oe(t);if(e.token){let n=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-5*60*1e3;return n=Math.min(n,r),Math.max(0,n-Date.now())}else return 0},ac.RETRIAL_MIN_WAIT,ac.RETRIAL_MAX_WAIT)}function tm(i,t){let e=Oe(i).tokenObservers;for(let n of e)try{n.type==="EXTERNAL"&&t.error!=null?n.error(t.error):n.next(t)}catch{}}function ji(i){return i.expireTimeMillis-Date.now()>0}function lc(i){return{token:Zh(Qh),error:i}}var bo=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=Oe(this.app);for(let e of t)gc(this.app,e.next);return Promise.resolve()}};function im(i,t){return new bo(i,t)}function nm(i){return{getToken:t=>go(i,t),getLimitedUseToken:()=>Jh(i),addTokenListener:t=>Xh(i,"INTERNAL",t),removeTokenListener:t=>gc(i.app,t)}}var rm="@firebase/app-check",om="0.8.11";var sm="app-check",dc="app-check-internal";function am(){rt(new me(sm,i=>{let t=i.getProvider("app").getImmediate(),e=i.getProvider("heartbeat");return im(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(dc).initialize()})),rt(new me(dc,i=>{let t=i.getProvider("app-check").getImmediate();return nm(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),ee(rm,om)}am();var cm="app-check";var jn=class{constructor(){return zn(cm)}};var lm=["localhost","0.0.0.0","127.0.0.1"],Vy=typeof window<"u"&&lm.includes(window.location.hostname);function Pc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Oc=Pc,Mc=new Pe("auth","Firebase",Pc());var Yn=new _t("@firebase/auth");function dm(i,...t){Yn.logLevel<=F.WARN&&Yn.warn(`Auth (${_i}): ${i}`,...t)}function $n(i,...t){Yn.logLevel<=F.ERROR&&Yn.error(`Auth (${_i}): ${i}`,...t)}function qe(i,...t){throw No(i,...t)}function Me(i,...t){return No(i,...t)}function Mo(i,t,e){let n=Object.assign(Object.assign({},Oc()),{[t]:e});return new Pe("auth","Firebase",n).create(t,{appName:i.name})}function Mt(i){return Mo(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function um(i,t,e){let n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&qe(i,"argument-error"),Mo(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function No(i,...t){if(typeof i!="string"){let e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(e,...n)}return Mc.create(i,...t)}function v(i,t,...e){if(!i)throw No(t,...e)}function ot(i){let t="INTERNAL ASSERTION FAILED: "+i;throw $n(t),new Error(t)}function at(i,t){i||ot(t)}function Qn(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Nc(){return bc()==="http:"||bc()==="https:"}function bc(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function hm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nc()||Ba()||"connection"in navigator)?navigator.onLine:!0}function mm(){if(typeof navigator>"u")return null;let i=navigator;return i.languages&&i.languages[0]||i.language||null}var Nt=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,at(e>t,"Short delay should be less than long delay!"),this.isMobile=La()||Ua()}get(){return hm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Fo(i,t){at(i.emulator,"Emulator should always be set here");let{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Zn=class{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fm=new Nt(3e4,6e4);function cr(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}function Lt(o,s,c,l){return d(this,arguments,function*(i,t,e,n,r={}){return Fc(i,r,()=>d(this,null,function*(){let p={},g={};n&&(t==="GET"?g=n:p={body:JSON.stringify(n)});let x=fi(Object.assign({key:i.config.apiKey},g)).slice(1),L=yield i._getAdditionalHeaders();L["Content-Type"]="application/json",i.languageCode&&(L["X-Firebase-Locale"]=i.languageCode);let M=Object.assign({method:t,headers:L},p);return Va()||(M.referrerPolicy="no-referrer"),Zn.fetch()(Lc(i,i.config.apiHost,e,x),M)}))})}function Fc(i,t,e){return d(this,null,function*(){i._canInitEmulator=!1;let n=Object.assign(Object.assign({},pm),t);try{let r=new Io(i),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wn(i,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,p]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wn(i,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Wn(i,"email-already-in-use",s);if(l==="USER_DISABLED")throw Wn(i,"user-disabled",s);let g=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mo(i,g,p);qe(i,g)}}catch(r){if(r instanceof Re)throw r;qe(i,"network-request-failed",{message:String(r)})}})}function _m(o,s,c,l){return d(this,arguments,function*(i,t,e,n,r={}){let p=yield Lt(i,t,e,n,r);return"mfaPendingCredential"in p&&qe(i,"multi-factor-auth-required",{_serverResponse:p}),p})}function Lc(i,t,e,n){let r=`${t}${e}?${n}`;return i.config.emulator?Fo(i.config,r):`${i.config.apiScheme}://${r}`}var Io=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Me(this.auth,"network-request-failed")),fm.get())})}};function Wn(i,t,e){let n={appName:i.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);let r=Me(i,t,n);return r.customData._tokenResponse=e,r}function gm(i,t){return d(this,null,function*(){return Lt(i,"POST","/v1/accounts:delete",t)})}function Vc(i,t){return d(this,null,function*(){return Lt(i,"POST","/v1/accounts:lookup",t)})}function Wi(i){if(i)try{let t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Lo(i,t=!1){return d(this,null,function*(){let e=it(i),n=yield e.getIdToken(t),r=Vo(n);v(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:n,authTime:Wi(vo(r.auth_time)),issuedAtTime:Wi(vo(r.iat)),expirationTime:Wi(vo(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function vo(i){return Number(i)*1e3}function Vo(i){let[t,e,n]=i.split(".");if(t===void 0||e===void 0||n===void 0)return $n("JWT malformed, contained fewer than 3 sections"),null;try{let r=$r(e);return r?JSON.parse(r):($n("Failed to decode base64 JWT payload"),null)}catch(r){return $n("Caught error parsing JWT payload as JSON",r?.toString()),null}}function vc(i){let t=Vo(i);return v(t,"internal-error"),v(typeof t.exp<"u","internal-error"),v(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Gi(i,t,e=!1){return d(this,null,function*(){if(e)return t;try{return yield t}catch(n){throw n instanceof Re&&bm(n)&&i.auth.currentUser===i&&(yield i.auth.signOut()),n}})}function bm({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}var Co=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>d(this,null,function*(){yield this.iteration()}),e)}iteration(){return d(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ki=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wi(this.lastLoginAt),this.creationTime=Wi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Jn(i){return d(this,null,function*(){var t;let e=i.auth,n=yield i.getIdToken(),r=yield Gi(i,Vc(e,{idToken:n}));v(r?.users.length,e,"internal-error");let o=r.users[0];i._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Bc(o.providerUserInfo):[],c=vm(i.providerData,s),l=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=l?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ki(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,x)})}function Bo(i){return d(this,null,function*(){let t=it(i);yield Jn(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function vm(i,t){return[...i.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function Bc(i){return i.map(t=>{var{providerId:e}=t,n=en(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ym(i,t){return d(this,null,function*(){let e=yield Fc(i,{},()=>d(this,null,function*(){let n=fi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=i.config,s=Lc(i,r,"/v1/token",`key=${o}`),c=yield i._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Zn.fetch()(s,{method:"POST",headers:c,body:n})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function Im(i,t){return d(this,null,function*(){return Lt(i,"POST","/v2/accounts:revokeToken",cr(i,t))})}var $i=class i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){v(t.idToken,"internal-error"),v(typeof t.idToken<"u","internal-error"),v(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):vc(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){v(t.length!==0,"internal-error");let e=vc(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return d(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(v(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return d(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:o}=yield ym(t,e);this.updateTokensAndExpiration(n,r,Number(o))})}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){let{refreshToken:n,accessToken:r,expirationTime:o}=e,s=new i;return n&&(v(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),r&&(v(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(v(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new i,this.toJSON())}_performRefresh(){return ot("not implemented")}};function vt(i,t){v(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}var Ii=class i{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,o=en(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Co(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ki(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return d(this,null,function*(){let e=yield Gi(this,this.stsTokenManager.getToken(this.auth,t));return v(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return Lo(this,t)}reload(){return Bo(this)}_assign(t){this!==t&&(v(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new i(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return d(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&(yield Jn(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return d(this,null,function*(){if(Ge(this.auth.app))return Promise.reject(Mt(this.auth));let t=yield this.getIdToken();return yield Gi(this,gm(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,o,s,c,l,p,g;let x=(n=e.displayName)!==null&&n!==void 0?n:void 0,L=(r=e.email)!==null&&r!==void 0?r:void 0,M=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,pe=(s=e.photoURL)!==null&&s!==void 0?s:void 0,Ne=(c=e.tenantId)!==null&&c!==void 0?c:void 0,ct=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,Ai=(p=e.createdAt)!==null&&p!==void 0?p:void 0,Ut=(g=e.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:zt,emailVerified:Is,isAnonymous:Cs,providerData:br,stsTokenManager:ws}=e;v(zt&&ws,t,"internal-error");let zl=$i.fromJSON(this.name,ws);v(typeof zt=="string",t,"internal-error"),vt(x,t.name),vt(L,t.name),v(typeof Is=="boolean",t,"internal-error"),v(typeof Cs=="boolean",t,"internal-error"),vt(M,t.name),vt(pe,t.name),vt(Ne,t.name),vt(ct,t.name),vt(Ai,t.name),vt(Ut,t.name);let vr=new i({uid:zt,auth:t,email:L,emailVerified:Is,displayName:x,isAnonymous:Cs,photoURL:pe,phoneNumber:M,tenantId:Ne,stsTokenManager:zl,createdAt:Ai,lastLoginAt:Ut});return br&&Array.isArray(br)&&(vr.providerData=br.map(Hl=>Object.assign({},Hl))),ct&&(vr._redirectEventId=ct),vr}static _fromIdTokenResponse(t,e,n=!1){return d(this,null,function*(){let r=new $i;r.updateFromServerResponse(e);let o=new i({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield Jn(o),o})}static _fromGetAccountInfoResponse(t,e,n){return d(this,null,function*(){let r=e.users[0];v(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?Bc(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new $i;c.updateFromIdToken(n);let l=new i({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:s}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Ki(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,p),l})}};var yc=new Map;function st(i){at(i instanceof Function,"Expected a class definition");let t=yc.get(i);return t?(at(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,yc.set(i,t),t)}var Cm=(()=>{class i{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return d(this,null,function*(){return!0})}_set(e,n){return d(this,null,function*(){this.storage[e]=n})}_get(e){return d(this,null,function*(){let n=this.storage[e];return n===void 0?null:n})}_remove(e){return d(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}return i.type="NONE",i})(),wo=Cm;function Gn(i,t,e){return`firebase:${i}:${t}:${e}`}var Xn=class i{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;let{config:r,name:o}=this.auth;this.fullUserKey=Gn(this.userKey,r.apiKey,o),this.fullPersistenceKey=Gn("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return d(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?Ii._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return d(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return d(this,null,function*(){if(!e.length)return new i(st(wo),t,n);let r=(yield Promise.all(e.map(p=>d(this,null,function*(){if(yield p._isAvailable())return p})))).filter(p=>p),o=r[0]||st(wo),s=Gn(n,t.config.apiKey,t.name),c=null;for(let p of e)try{let g=yield p._get(s);if(g){let x=Ii._fromJSON(t,g);p!==o&&(c=x),o=p;break}}catch{}let l=r.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new i(o,t,n):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(e.map(p=>d(this,null,function*(){if(p!==o)try{yield p._remove(s)}catch{}}))),new i(o,t,n))})}};function Ic(i){let t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Uc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($c(t))return"Blackberry";if(Gc(t))return"Webos";if(zc(t))return"Safari";if((t.includes("chrome/")||Hc(t))&&!t.includes("edge/"))return"Chrome";if(Wc(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(e);if(n?.length===2)return n[1]}return"Other"}function Uc(i=ne()){return/firefox\//i.test(i)}function zc(i=ne()){let t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Hc(i=ne()){return/crios\//i.test(i)}function jc(i=ne()){return/iemobile/i.test(i)}function Wc(i=ne()){return/android/i.test(i)}function $c(i=ne()){return/blackberry/i.test(i)}function Gc(i=ne()){return/webos/i.test(i)}function Uo(i=ne()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function wm(i=ne()){var t;return Uo(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Em(){return za()&&document.documentMode===10}function Kc(i=ne()){return Uo(i)||Wc(i)||Gc(i)||$c(i)||/windows phone/i.test(i)||jc(i)}function qc(i,t=[]){let e;switch(i){case"Browser":e=Ic(ne());break;case"Worker":e=`${Ic(ne())}-${i}`;break;default:e=i}let n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${_i}/${n}`}var Eo=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let n=o=>new Promise((s,c)=>{try{let l=t(o);s(l)}catch(l){c(l)}});n.onAbort=e,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return d(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let n of this.queue)yield n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function Tm(e){return d(this,arguments,function*(i,t={}){return Lt(i,"GET","/v2/passwordPolicy",cr(i,t))})}var Am=6,To=class{constructor(t){var e,n,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=s.minPasswordLength)!==null&&e!==void 0?e:Am,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,e){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Ao=class{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new er(this),this.idTokenSubscription=new er(this),this.beforeStateQueue=new Eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=st(e)),this._initializationPromise=this.queue(()=>d(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield Xn.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return d(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return d(this,null,function*(){try{let e=yield Vc(this,{idToken:t}),n=yield Ii._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return d(this,null,function*(){var e;if(Ge(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===c)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return d(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return d(this,null,function*(){try{yield Jn(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=mm()}_delete(){return d(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return d(this,null,function*(){if(Ge(this.app))return Promise.reject(Mt(this));let e=t?it(t):null;return e&&v(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return d(this,null,function*(){if(!this._deleted)return t&&v(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>d(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return d(this,null,function*(){return Ge(this.app)?Promise.reject(Mt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Ge(this.app)?Promise.reject(Mt(this)):this.queue(()=>d(this,null,function*(){yield this.assertedPersistence.setPersistence(st(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return d(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return d(this,null,function*(){let t=yield Tm(this),e=new To(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Pe("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},e)}})}revokeAccessToken(t){return d(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),yield Im(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return d(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return d(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&st(t)||this._popupRedirectResolver;v(e,this,"argument-error"),this.redirectPersistenceManager=yield Xn.create(this,[st(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return d(this,null,function*(){var e,n;return this._isInitialized&&(yield this.queue(()=>d(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return d(this,null,function*(){if(t===this.currentUser)return this.queue(()=>d(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};let o=typeof e=="function"?e:e.next.bind(e),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof e=="function"){let l=t.addObserver(e,n,r);return()=>{s=!0,l()}}else{let l=t.addObserver(e);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return d(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return d(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return d(this,null,function*(){var t;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&dm(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function lr(i){return it(i)}var er=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Wa(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var zo={loadJS(){return d(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function km(i){zo=i}function xm(i){return zo.loadJS(i)}function Sm(){return zo.gapiScript}function Yc(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function Ho(i,t){let e=Vn(i,"auth");if(e.isInitialized()){let r=e.getImmediate(),o=e.getOptions();if(pi(o,t??{}))return r;qe(r,"already-initialized")}return e.initialize({options:t})}function Dm(i,t){let e=t?.persistence||[],n=(Array.isArray(e)?e:[e]).map(st);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(n,t?.popupRedirectResolver)}function jo(i,t,e){let n=lr(i);v(n._canInitEmulator,n,"emulator-config-failed"),v(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!e?.disableWarnings,o=Qc(t),{host:s,port:c}=Rm(t),l=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Pm()}function Qc(i){let t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function Rm(i){let t=Qc(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};let n=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let o=r[1];return{host:o,port:Cc(n.substr(o.length+1))}}else{let[o,s]=n.split(":");return{host:o,port:Cc(s)}}}function Cc(i){if(!i)return null;let t=Number(i);return isNaN(t)?null:t}function Pm(){function i(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}var qi=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ot("not implemented")}_getIdTokenResponse(t){return ot("not implemented")}_linkToIdToken(t,e){return ot("not implemented")}_getReauthenticationResolver(t){return ot("not implemented")}};function yi(i,t){return d(this,null,function*(){return _m(i,"POST","/v1/accounts:signInWithIdp",cr(i,t))})}var Om="http://localhost",tr=class i extends qi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new i(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):qe("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,o=en(e,["providerId","signInMethod"]);if(!n||!r)return null;let s=new i(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let e=this.buildRequest();return yi(t,e)}_linkToIdToken(t,e){let n=this.buildRequest();return n.idToken=e,yi(t,n)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,yi(t,e)}buildRequest(){let t={requestUri:Om,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=fi(e)}return t}};var Yi=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var ir=class extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Wo=(()=>{class i extends ir{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tr._fromParams({providerId:i.PROVIDER_ID,signInMethod:i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return i.credentialFromTaggedObject(e)}static credentialFromError(e){return i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return i.credential(n,r)}catch{return null}}}i.GOOGLE_SIGN_IN_METHOD="google.com",i.PROVIDER_ID="google.com";return i})();var Qi=class i{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,r=!1){return d(this,null,function*(){let o=yield Ii._fromIdTokenResponse(t,n,r),s=wc(n);return new i({user:o,providerId:s,_tokenResponse:n,operationType:e})})}static _forOperation(t,e,n){return d(this,null,function*(){yield t._updateTokensIfNecessary(n,!0);let r=wc(n);return new i({user:t,providerId:r,_tokenResponse:n,operationType:e})})}};function wc(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}var ko=class i extends Re{constructor(t,e,n,r){var o;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,i.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new i(t,e,n,r)}};function Zc(i,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ko._fromErrorAndOperation(i,o,t,n):o})}function Mm(i,t,e=!1){return d(this,null,function*(){let n=yield Gi(i,t._linkToIdToken(i.auth,yield i.getIdToken()),e);return Qi._forOperation(i,"link",n)})}function Nm(i,t,e=!1){return d(this,null,function*(){let{auth:n}=i;if(Ge(n.app))return Promise.reject(Mt(n));let r="reauthenticate";try{let o=yield Gi(i,Zc(n,r,t,i),e);v(o.idToken,n,"internal-error");let s=Vo(o.idToken);v(s,n,"internal-error");let{sub:c}=s;return v(i.uid===c,n,"user-mismatch"),Qi._forOperation(i,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&qe(n,"user-mismatch"),o}})}function Fm(i,t,e=!1){return d(this,null,function*(){if(Ge(i.app))return Promise.reject(Mt(i));let n="signIn",r=yield Zc(i,n,t),o=yield Qi._fromIdTokenResponse(i,n,r);return e||(yield i._updateCurrentUser(o.user)),o})}function Lm(i,t){return d(this,null,function*(){return Lt(i,"POST","/v1/accounts:createAuthUri",cr(i,t))})}function $o(i,t){return d(this,null,function*(){let e=Nc()?Qn():"http://localhost",n={identifier:t,continueUri:e},{signinMethods:r}=yield Lm(it(i),n);return r||[]})}function Go(i,t,e,n){return it(i).onIdTokenChanged(t,e,n)}function Ko(i,t,e){return it(i).beforeAuthStateChanged(t,e)}var nr="__sak";var rr=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(nr,"1"),this.storage.removeItem(nr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var Vm=1e3,Bm=10,Um=(()=>{class i extends rr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,l,p)=>{this.notifyListeners(c,p)});return}let r=e.key;n?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);Em()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Bm):o()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,n){return d(this,null,function*(){yield yt(i.prototype,this,"_set").call(this,e,n),this.localCache[e]=JSON.stringify(n)})}_get(e){return d(this,null,function*(){let n=yield yt(i.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(n),n})}_remove(e){return d(this,null,function*(){yield yt(i.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return i.type="LOCAL",i})(),Jc=Um;var zm=(()=>{class i extends rr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}return i.type="SESSION",i})(),qo=zm;function Hm(i){return Promise.all(i.map(t=>d(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var jm=(()=>{class i{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;let r=new i(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return d(this,null,function*(){let n=e,{eventId:r,eventType:o,data:s}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(c).map(g=>d(this,null,function*(){return g(n.origin,s)})),p=yield Hm(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i.receivers=[];return i})();function Yo(i="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return i+e}var xo=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){return d(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,l)=>{let p=Yo("",20);r.port1.start();let g=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(x){let L=x;if(L.data.eventId===p)switch(L.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(L.data.response);break;default:clearTimeout(g),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ke(){return window}function Wm(i){Ke().location.href=i}function Xc(){return typeof Ke().WorkerGlobalScope<"u"&&typeof Ke().importScripts=="function"}function $m(){return d(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Gm(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Km(){return Xc()?self:null}var el="firebaseLocalStorageDb",qm=1,or="firebaseLocalStorage",tl="fbase_key",Ft=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function dr(i,t){return i.transaction([or],t?"readwrite":"readonly").objectStore(or)}function Ym(){let i=indexedDB.deleteDatabase(el);return new Ft(i).toPromise()}function So(){let i=indexedDB.open(el,qm);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{let n=i.result;try{n.createObjectStore(or,{keyPath:tl})}catch(r){e(r)}}),i.addEventListener("success",()=>d(this,null,function*(){let n=i.result;n.objectStoreNames.contains(or)?t(n):(n.close(),yield Ym(),t(yield So()))}))})}function Ec(i,t,e){return d(this,null,function*(){let n=dr(i,!0).put({[tl]:t,value:e});return new Ft(n).toPromise()})}function Qm(i,t){return d(this,null,function*(){let e=dr(i,!1).get(t),n=yield new Ft(e).toPromise();return n===void 0?null:n.value})}function Tc(i,t){let e=dr(i,!0).delete(t);return new Ft(e).toPromise()}var Zm=800,Jm=3,Xm=(()=>{class i{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return d(this,null,function*(){return this.db?this.db:(this.db=yield So(),this.db)})}_withRetries(e){return d(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(n++>Jm)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return d(this,null,function*(){return Xc()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return d(this,null,function*(){this.receiver=jm._getInstance(Km()),this.receiver._subscribe("keyChanged",(e,n)=>d(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(e,n)=>d(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return d(this,null,function*(){var e,n;if(this.activeServiceWorker=yield $m(),!this.activeServiceWorker)return;this.sender=new xo(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return d(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Gm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return d(this,null,function*(){try{if(!indexedDB)return!1;let e=yield So();return yield Ec(e,nr,"1"),yield Tc(e,nr),!0}catch{}return!1})}_withPendingWrite(e){return d(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,n){return d(this,null,function*(){return this._withPendingWrite(()=>d(this,null,function*(){return yield this._withRetries(r=>Ec(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)}))})}_get(e){return d(this,null,function*(){let n=yield this._withRetries(r=>Qm(r,e));return this.localCache[e]=n,n})}_remove(e){return d(this,null,function*(){return this._withPendingWrite(()=>d(this,null,function*(){return yield this._withRetries(n=>Tc(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return d(this,null,function*(){let e=yield this._withRetries(o=>{let s=dr(o,!1).getAll();return new Ft(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(e.length!==0)for(let{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n})}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>d(this,null,function*(){return this._poll()}),Zm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return i.type="LOCAL",i})(),il=Xm;var qy=Yc("rcb"),Yy=new Nt(3e4,6e4);function nl(i,t){return t?st(t):(v(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}var Zi=class extends qi{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yi(t,this._buildIdpRequest())}_linkToIdToken(t,e){return yi(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return yi(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function ep(i){return Fm(i.auth,new Zi(i),i.bypassAuthState)}function tp(i){let{auth:t,user:e}=i;return v(e,t,"internal-error"),Nm(e,new Zi(i),i.bypassAuthState)}function ip(i){return d(this,null,function*(){let{auth:t,user:e}=i;return v(e,t,"internal-error"),Mm(e,new Zi(i),i.bypassAuthState)})}var sr=class{constructor(t,e,n,r,o=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>d(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(t){return d(this,null,function*(){let{urlResponse:e,sessionId:n,postBody:r,tenantId:o,error:s,type:c}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:e,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(p){this.reject(p)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ep;case"linkViaPopup":case"linkViaRedirect":return ip;case"reauthViaPopup":case"reauthViaRedirect":return tp;default:qe(this.auth,"internal-error")}}resolve(t){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var np=new Nt(2e3,1e4);function Qo(i,t,e){return d(this,null,function*(){if(Ge(i.app))return Promise.reject(Me(i,"operation-not-supported-in-this-environment"));let n=lr(i);um(i,t,Yi);let r=nl(n,e);return new rp(n,"signInViaPopup",t,r).executeNotNull()})}var rp=(()=>{class i extends sr{constructor(e,n,r,o,s){super(e,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=this}executeNotNull(){return d(this,null,function*(){let e=yield this.execute();return v(e,this.auth,"internal-error"),e})}onExecution(){return d(this,null,function*(){at(this.filter.length===1,"Popup operations only handle one event");let e=Yo();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Me(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,np.get())};e()}}i.currentPopupAction=null;return i})(),op="pendingRedirect",Kn=new Map,Do=class i extends sr{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){return d(this,null,function*(){let t=Kn.get(this.auth._key());if(!t){try{let n=(yield sp(this.resolver,this.auth))?yield yt(i.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}Kn.set(this.auth._key(),t)}return this.bypassAuthState||Kn.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return d(this,null,function*(){if(t.type==="signInViaRedirect")return yt(i.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,yt(i.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return d(this,null,function*(){})}cleanUp(){}};function sp(i,t){return d(this,null,function*(){let e=lp(t),n=cp(i);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(e))==="true";return yield n._remove(e),r})}function ap(i,t){Kn.set(i._key(),t)}function cp(i){return st(i._redirectPersistence)}function lp(i){return Gn(op,i.config.apiKey,i.name)}function dp(i,t,e=!1){return d(this,null,function*(){if(Ge(i.app))return Promise.reject(Mt(i));let n=lr(i),r=nl(n,t),s=yield new Do(n,r,e).execute();return s&&!e&&(delete s.user._redirectEventId,yield n._persistUserIfCurrent(s.user),yield n._setRedirectUser(null,t)),s})}var up=10*60*1e3,Ro=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hp(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!rl(t)){let r=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(Me(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=up&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ac(t))}saveEventToCache(t){this.cachedEventUids.add(Ac(t)),this.lastProcessedEventTime=Date.now()}};function Ac(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function rl({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function hp(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rl(i);default:return!1}}function mp(e){return d(this,arguments,function*(i,t={}){return Lt(i,"GET","/v1/projects",t)})}var pp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fp=/^https?/;function _p(i){return d(this,null,function*(){if(i.config.emulator)return;let{authorizedDomains:t}=yield mp(i);for(let e of t)try{if(gp(e))return}catch{}qe(i,"unauthorized-domain")})}function gp(i){let t=Qn(),{protocol:e,hostname:n}=new URL(t);if(i.startsWith("chrome-extension://")){let s=new URL(i);return s.hostname===""&&n===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&s.hostname===n}if(!fp.test(e))return!1;if(pp.test(i))return n===i;let r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var bp=new Nt(3e4,6e4);function kc(){let i=Ke().___jsl;if(i?.H){for(let t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function vp(i){return new Promise((t,e)=>{var n,r,o;function s(){kc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kc(),e(Me(i,"network-request-failed"))},timeout:bp.get()})}if(!((r=(n=Ke().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Ke().gapi)===null||o===void 0)&&o.load)s();else{let c=Yc("iframefcb");return Ke()[c]=()=>{gapi.load?s():e(Me(i,"network-request-failed"))},xm(`${Sm()}?onload=${c}`).catch(l=>e(l))}}).catch(t=>{throw qn=null,t})}var qn=null;function yp(i){return qn=qn||vp(i),qn}var Ip=new Nt(5e3,15e3),Cp="__/auth/iframe",wp="emulator/auth/iframe",Ep={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ap(i){let t=i.config;v(t.authDomain,i,"auth-domain-config-required");let e=t.emulator?Fo(t,wp):`https://${i.config.authDomain}/${Cp}`,n={apiKey:t.apiKey,appName:i.name,v:_i},r=Tp.get(i.config.apiHost);r&&(n.eid=r);let o=i._getFrameworks();return o.length&&(n.fw=o.join(",")),`${e}?${fi(n).slice(1)}`}function kp(i){return d(this,null,function*(){let t=yield yp(i),e=Ke().gapi;return v(e,i,"internal-error"),t.open({where:document.body,url:Ap(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ep,dontclear:!0},n=>new Promise((r,o)=>d(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let s=Me(i,"network-request-failed"),c=Ke().setTimeout(()=>{o(s)},Ip.get());function l(){Ke().clearTimeout(c),r(n)}n.ping(l).then(l,()=>{o(s)})})))})}var xp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sp=500,Dp=600,Rp="_blank",Pp="http://localhost",ar=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Op(i,t,e,n=Sp,r=Dp){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),c="",l=Object.assign(Object.assign({},xp),{width:n.toString(),height:r.toString(),top:o,left:s}),p=ne().toLowerCase();e&&(c=Hc(p)?Rp:e),Uc(p)&&(t=t||Pp,l.scrollbars="yes");let g=Object.entries(l).reduce((L,[M,pe])=>`${L}${M}=${pe},`,"");if(wm(p)&&c!=="_self")return Mp(t||"",c),new ar(null);let x=window.open(t||"",c,g);v(x,i,"popup-blocked");try{x.focus()}catch{}return new ar(x)}function Mp(i,t){let e=document.createElement("a");e.href=i,e.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}var Np="__/auth/handler",Fp="emulator/auth/handler",Lp=encodeURIComponent("fac");function xc(i,t,e,n,r,o){return d(this,null,function*(){v(i.config.authDomain,i,"auth-domain-config-required"),v(i.config.apiKey,i,"invalid-api-key");let s={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:n,v:_i,eventId:r};if(t instanceof Yi){t.setDefaultLanguage(i.languageCode),s.providerId=t.providerId||"",ja(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[g,x]of Object.entries(o||{}))s[g]=x}if(t instanceof ir){let g=t.getScopes().filter(x=>x!=="");g.length>0&&(s.scopes=g.join(","))}i.tenantId&&(s.tid=i.tenantId);let c=s;for(let g of Object.keys(c))c[g]===void 0&&delete c[g];let l=yield i._getAppCheckToken(),p=l?`#${Lp}=${encodeURIComponent(l)}`:"";return`${Vp(i)}?${fi(c).slice(1)}${p}`})}function Vp({config:i}){return i.emulator?Fo(i,Fp):`https://${i.authDomain}/${Np}`}var yo="webStorageSupport",Po=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qo,this._completeRedirectFn=dp,this._overrideRedirectResult=ap}_openPopup(t,e,n,r){return d(this,null,function*(){var o;at((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield xc(t,e,n,Qn(),r);return Op(t,s,Yo())})}_openRedirect(t,e,n,r){return d(this,null,function*(){yield this._originValidation(t);let o=yield xc(t,e,n,Qn(),r);return Wm(o),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(at(o,"If manager is not set, promise should be"),o)}let n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}initAndGetManager(t){return d(this,null,function*(){let e=yield kp(t),n=new Ro(t);return e.register("authEvent",r=>(v(r?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(yo,{type:yo},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[yo];s!==void 0&&e(!!s),qe(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=_p(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Kc()||zc()||Uo()}},ol=Po;var Sc="@firebase/auth",Dc="1.8.2";var Oo=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return d(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Bp(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Up(i){rt(new me("auth",(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=n.options;v(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qc(i)},p=new Ao(n,r,o,l);return Dm(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),rt(new me("auth-internal",t=>{let e=lr(t.getProvider("auth").getImmediate());return(n=>new Oo(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ee(Sc,Dc,Bp(i)),ee(Sc,Dc,"esm2017")}var zp=5*60,Hp=qr("authIdTokenMaxAge")||zp,Rc=null,jp=i=>t=>d(void 0,null,function*(){let e=t&&(yield t.getIdTokenResult()),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>Hp)return;let r=e?.token;Rc!==r&&(Rc=r,yield fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Zo(i=zi()){let t=Vn(i,"auth");if(t.isInitialized())return t.getImmediate();let e=Ho(i,{popupRedirectResolver:ol,persistence:[il,Jc,qo]}),n=qr("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(n,location.origin);if(location.origin===o.origin){let s=jp(o.toString());Ko(e,s,()=>s(e.currentUser)),Go(e,c=>s(c))}}let r=Fa("auth");return r&&jo(e,`http://${r}`),e}function Wp(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}km({loadJS(i){return new Promise((t,e)=>{let n=document.createElement("script");n.setAttribute("src",i),n.onload=t,n.onerror=r=>{let o=Me("internal-error");o.customData=r,e(o)},n.type="text/javascript",n.charset="UTF-8",Wp().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Up("Browser");var sl="auth",Vt=class{constructor(t){return t}},Jo=class{constructor(){return zn(sl)}};var Xo=new G("angularfire2.auth-instances");function Ff(i,t){let e=uo(sl,i,t);return e&&new Vt(e)}function Lf(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Vt(n)}}var Vf={provide:Jo,deps:[[new lt,Xo]]},Bf={provide:Vt,useFactory:Ff,deps:[[new lt,Xo],Ot]};function NI(i,...t){return ee("angularfire",bi.full,"auth"),fe([Bf,Vf,{provide:Xo,useFactory:Lf(i),multi:!0,deps:[j,ce,vi,Hi,[new lt,jn],...t]}])}var al=Pt($o,!0,2);var FI=Pt(Zo,!0);var cl=Pt(Qo,!0,2);var ll=(()=>{class i{constructor(){this.firebaseApiKey=pt.firebaseConfig.apiKey,this.firebaseRegisterAPI=pt.firebaseRegisterAPI,this.firebaseLoginAPI=pt.firebaseLoginAPI,this.firebaseForgotPasswordAPI=pt.firebaseForgotPasswordAPI,this.firebaseGetCurrentUserAPI=pt.firebaseGetCurrentUserAPI,this._httpClient=a(_n),this.auth=a(Vt)}getCurrentUser(e){return this._httpClient.post(this.firebaseGetCurrentUserAPI+`${this.firebaseApiKey}`,{idToken:e}).pipe(q(n=>({localId:n.users[0].localId,email:n.users[0].email,displayName:n.users[0].displayName,photoUrl:n.users[0].photoUrl})))}register(e){return this._httpClient.post(this.firebaseRegisterAPI+`${this.firebaseApiKey}`,e)}authWithGoogle(){let e=new Wo;return e.setCustomParameters({prompt:"select_account"}),tn(cl(this.auth,e)).pipe(U(n=>{let r=n.user;return tn(r.getIdToken()).pipe(q(o=>({idToken:o,email:r.email,refreshToken:r.refreshToken,localId:r.uid})))}))}login(e){return this._httpClient.post(this.firebaseLoginAPI+`${this.firebaseApiKey}`,e)}forgotPassword(e){let n={"X-Firebase-Locale":"uk_UA"};return this._httpClient.post(this.firebaseForgotPasswordAPI+`${this.firebaseApiKey}`,ki(z({},e),{requestType:"PASSWORD_RESET"}),{headers:n})}checkIfEmailExists(e){return tn(al(this.auth,e)).pipe(q(n=>n.length>0))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac})}}return i})();var Bt=new G("AuthProvider"),dl=()=>fe([{provide:Bt,useClass:ll}]);var es={};xi(es,{getCurrentUser:()=>jf,handleAuthError:()=>Yf,handleAuthSuccess:()=>qf,handleForgotPassword:()=>Hf,handleGoogleAuth:()=>Wf,handleGoogleAuthError:()=>Kf,handleLogin:()=>zf,handleRegister:()=>Uf,showErrorForgotPasswordToaster:()=>Gf,showSuccessForgotPasswordToaster:()=>$f});var Uf=R((i=a(P),t=a(Bt))=>i.pipe(O(W.registerAction.action),U(({payload:e})=>he(t.register(e),W.registerAction,null,!0))),{functional:!0}),zf=R((i=a(P),t=a(Bt))=>i.pipe(O(W.loginAction.action),U(({payload:e})=>he(t.login(e),W.loginAction,null,!0))),{functional:!0}),Hf=R((i=a(P),t=a(Bt),e=a(se))=>i.pipe(O(W.forgotPasswordAction.action),U(({payload:n})=>t.checkIfEmailExists(n.email).pipe(U(r=>r?he(t.forgotPassword(n),W.forgotPasswordAction,null,!0):xe(W.forgotPasswordAction.failedAction({error:{message:"EMAIL_NOT_FOUND"}})))))),{functional:!0}),jf=R((i=a(P),t=a(Bt),e=a(ae))=>i.pipe(O(V.getCurrentUser),U(()=>{let n=e.get("accessToken");return n?he(t.getCurrentUser(n),W.getCurrentUserAction):xe(W.getCurrentUserAction.failedAction({error:{message:"Failed to fetch current user"}}))})),{functional:!0}),Wf=R((i=a(P),t=a(Bt))=>i.pipe(O(V.googleAuth),U(()=>he(t.authWithGoogle(),W.googleAuthAction,null,!0))),{functional:!0}),$f=R((i=a(P))=>i.pipe(O(W.forgotPasswordAction.succeededAction),q(()=>ui.showToast({toastType:An.Success,message:"\u0412\u0430\u043C \u0432\u0456\u0434\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E \u043B\u0438\u0441\u0442\u0430 \u043D\u0430 \u043F\u043E\u0448\u0442\u0443"}))),{functional:!0}),Gf=R((i=a(P))=>i.pipe(O(W.forgotPasswordAction.failedAction),q(()=>ui.showToast({toastType:An.Error,message:"\u0422\u0430\u043A\u0430 \u043F\u043E\u0448\u0442\u0430 \u043D\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043E\u0432\u0430\u043D\u0430"}))),{functional:!0}),Kf=R((i=a(P))=>i.pipe(O(W.googleAuthAction.failedAction),q(({error:t})=>{console.log(t.code);let e=t.code;return ui.showExtendedErrorToast({message:e})})),{functional:!0}),qf=R((i=a(P),t=a(ae))=>i.pipe(O(W.registerAction.succeededAction,W.loginAction.succeededAction,W.googleAuthAction.succeededAction),It(({payload:e})=>{t.set("accessToken",e.idToken),t.set("userLocalId",e.localId)}),Si(()=>[fa.navigate({url:"/"}),V.closeAuthPopup(),ui.showToast({toastType:An.Success,message:"\u0412\u0438 \u0443 \u0441\u0432\u043E\u0454\u043C\u0443 \u043F\u0440\u043E\u0444\u0456\u043B\u0456"})])),{functional:!0}),Yf=R((i=a(P))=>i.pipe(O(W.registerAction.failedAction,W.loginAction.failedAction),q(({error:t})=>{let e=t.error.error.message;return ui.showExtendedErrorToast({message:e})})),{functional:!0});var uC=()=>fe([dl(),wn(ha),En([Ur,es])]);var MC=(()=>{class i{constructor(){this._store=a(se),this.vm=Be(this._store.select(di.selectAuthViewModel)),this.controlName=xt,this.forgotPasswordText=He.forgotPassword,this.authPopupType=ze,this.fb=a(ht)}ngOnInit(){this.form=this.fb.group({email:["",mi]})}onSubmit(){let e=this.form.value;this._store.dispatch(V.forgotPassword({request:e}))}openAuthPopup(e){this._store.dispatch(V.openAuthPopup({popupType:e}))}closeForgotPasswordPopup(){this._store.dispatch(V.closeAuthPopup())}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["mm-forgot-password"]],decls:15,vars:8,consts:[[1,"auth"],[1,"auth__form",3,"ngSubmit","formGroup"],["size","m",1,"auth__form-icon-close",3,"click","iconName"],[1,"auth__form-title"],[1,"auth__form-group"],[1,"auth__form-email","auth__form-email_forgot",3,"placeholder","formGroup","formControlName"],["mmButton","","mmType","primary","size","l","type","submit",1,"auth__form-btn","auth__form-btn_forgot",3,"disabled"],[1,"auth__form-forgot-wrap"],[1,"auth__form-register-link",3,"click"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"form",1),y("ngSubmit",function(){return r.onSubmit()}),h(2,"mm-icon",2),y("click",function(){return r.closeForgotPasswordPopup()}),m(),h(3,"h3",3),f(4),m(),h(5,"fieldset",4),E(6,"mm-email-input",5),h(7,"button",6),f(8),m(),h(9,"div",7)(10,"span",8),y("click",function(){return r.openAuthPopup(r.authPopupType.LOGIN)}),f(11,"\u0423\u0432\u0456\u0439\u0442\u0438"),m(),f(12," / "),h(13,"span",8),y("click",function(){return r.openAuthPopup(r.authPopupType.REGISTER)}),f(14,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044C"),m()()()()()),n&2&&(u(),_("formGroup",r.form),u(),_("iconName","close"),u(2),N(r.forgotPasswordText.formTitle),u(2),_("placeholder",r.forgotPasswordText.emailPlaceholder)("formGroup",r.form)("formControlName",r.controlName.Email),u(),_("disabled",r.form.invalid||r.vm().isSubmitting),u(),T(" ",r.forgotPasswordText.button," "))},dependencies:[dt,Ee,ut,ye,Ie,Ce,we,hi,je,We],styles:['.auth[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background:var(--color-auth-bg);-webkit-backdrop-filter:blur(50px);backdrop-filter:blur(50px);z-index:1000}.auth__form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;padding:48px 58px;text-align:center;background:var(--color-form-bg);border-radius:20px}.auth__form-icon-close[_ngcontent-%COMP%]{position:absolute;top:40px;right:40px;transform:translate(50%,-50%);width:24px;height:24px;cursor:pointer}.auth__form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.auth__form-email[_ngcontent-%COMP%]{margin-bottom:32px}.auth__form-email_forgot[_ngcontent-%COMP%]{margin-bottom:0}.auth__form-title[_ngcontent-%COMP%]{font-family:Gotham-Pro-Bold,sans-serif;font-size:24px;line-height:1.3;font-weight:700;margin-bottom:32px;color:var(--color-form-title)}.auth__form-input[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;padding:16px}.auth__form-input[_ngcontent-%COMP%]:first-of-type{margin-bottom:32px}.auth__form-btn[_ngcontent-%COMP%]{margin:54px 0 40px}.auth__form-btn_forgot[_ngcontent-%COMP%]{margin:34px 0 20px}.auth__form-account[_ngcontent-%COMP%], .auth__form-login[_ngcontent-%COMP%], .auth__form-forgot[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;margin-bottom:40px;color:var(--color-auth-account-text)}.auth__form-account-link[_ngcontent-%COMP%], .auth__form-login-link[_ngcontent-%COMP%], .auth__form-forgot-link[_ngcontent-%COMP%]{margin-left:4px;color:var(--color-auth-account-link-text);cursor:pointer}.auth__form-account-wrap[_ngcontent-%COMP%], .auth__form-login-wrap[_ngcontent-%COMP%], .auth__form-forgot-wrap[_ngcontent-%COMP%]{color:var(--color-auth-forgot-text)}.auth__form-gap[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;position:relative;margin-bottom:32px;color:var(--color-auth-gap-text)}.auth__form-gap[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:24%;transform:translate(-50%,-50%);content:"";width:124px;height:1px;background:var(--color-auth-gap-line)}.auth__form-gap[_ngcontent-%COMP%]:after{position:absolute;top:50%;right:0;transform:translate(-50%,-50%);content:"";width:124px;height:1px;background:var(--color-auth-gap-line)}.auth__form-btn-google[_ngcontent-%COMP%]{margin-bottom:32px}.auth__form-btn-google[disabled][_ngcontent-%COMP%]{color:var(--color-button-secondary-disabled-txt);border:1px solid #5a5a5b}.auth__form-btn-google[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:14px}.auth__form-btn-google-icon[_ngcontent-%COMP%]{width:24px;height:24px}.auth__form-policy[_ngcontent-%COMP%], .auth__form-register[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;color:var(--color-auth-policy-text)}.auth__form-policy-link[_ngcontent-%COMP%], .auth__form-register-link[_ngcontent-%COMP%]{color:var(--color-auth-policy-link-text);cursor:pointer}']})}}return i})();var Qf=["googleButton"],ul=(()=>{class i{constructor(){this._store=a(se),this.googleButton=Gt.required("googleButton"),this.vm=Be(this._store.select(di.selectAuthViewModel)),this.controlName=xt,this.signInText=He.signIn,this.authPopupType=ze,this.fb=a(ht)}ngOnInit(){this.form=this.fb.group({email:["",mi],password:["",On]})}onSubmit(){if(this.googleButton().nativeElement===document.activeElement)this._store.dispatch(V.googleAuth());else{let e=this.form.value;this._store.dispatch(V.login({request:e}))}}openAuthPopup(e){this._store.dispatch(V.openAuthPopup({popupType:e}))}closeLoginPopup(){this._store.dispatch(V.closeAuthPopup())}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["mm-login"]],viewQuery:function(n,r){n&1&&Jt(r.googleButton,Qf,5),n&2&&Xt()},decls:25,vars:19,consts:[["googleButton",""],[1,"auth"],[1,"auth__form",3,"ngSubmit","formGroup"],["size","m",1,"auth__form-icon-close",3,"click","iconName"],[1,"auth__form-title"],[1,"auth__form-group"],[1,"auth__form-email",3,"placeholder","formGroup","formControlName"],[1,"auth__form-password",3,"placeholder","formGroup","formControlName"],["mmButton","","mmType","primary","size","l","type","submit",1,"auth__form-btn",3,"disabled"],[1,"auth__form-forgot"],[1,"auth__form-forgot-link",3,"click"],[1,"auth__form-gap"],["mmButton","","mmType","secondary","size","m","type","submit",1,"auth__form-btn-google",3,"fullWidth","disabled"],["size","m",1,"auth__form-btn-google-icon",3,"iconName"],[1,"auth__form-register"],[1,"auth__form-register-link",3,"click"]],template:function(n,r){if(n&1){let o=Q();oe(0),h(1,"div",1)(2,"form",2),y("ngSubmit",function(){return C(o),w(r.onSubmit())}),h(3,"mm-icon",3),y("click",function(){return C(o),w(r.closeLoginPopup())}),m(),h(4,"h3",4),f(5),m(),h(6,"fieldset",5),E(7,"mm-email-input",6)(8,"mm-password-input",7),h(9,"button",8),f(10),m()(),h(11,"p",9)(12,"span",10),y("click",function(){return C(o),w(r.openAuthPopup(r.authPopupType.FORGOT_PASSWORD))}),f(13),m()(),h(14,"p",11),f(15),m(),h(16,"button",12,0),E(18,"mm-icon",13),h(19,"span"),f(20),m()(),h(21,"p",14),f(22),h(23,"a",15),y("click",function(){return C(o),w(r.openAuthPopup(r.authPopupType.REGISTER))}),f(24),m()()()()}if(n&2){let o=r.vm();u(2),_("formGroup",r.form),u(),_("iconName","close"),u(2),N(r.signInText.formTitle),u(2),_("placeholder",r.signInText.emailPlaceholder)("formGroup",r.form)("formControlName",r.controlName.Email),u(),_("placeholder",r.signInText.passwordPlaceholder)("formGroup",r.form)("formControlName",r.controlName.Password),u(),_("disabled",r.form.invalid||o.isSubmitting),u(),T(" ",r.signInText.button," "),u(3),N(r.signInText.forgotPassword),u(2),N(r.signInText.gap),u(),_("fullWidth",!0)("disabled",o.isGoogleSubmitting),u(2),_("iconName",o.isGoogleSubmitting?"google-disabled":"google"),u(2),N(r.signInText.googleButton),u(2),T(" ",r.signInText.firstTime," "),u(2),T(" ",r.signInText.signup," ")}},dependencies:[dt,Ee,ut,ye,Ie,Ce,we,hi,Pn,je,We],styles:['.auth[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background:var(--color-auth-bg);-webkit-backdrop-filter:blur(50px);backdrop-filter:blur(50px);z-index:1000}.auth__form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;padding:48px 58px;text-align:center;background:var(--color-form-bg);border-radius:20px}.auth__form-icon-close[_ngcontent-%COMP%]{position:absolute;top:40px;right:40px;transform:translate(50%,-50%);width:24px;height:24px;cursor:pointer}.auth__form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.auth__form-email[_ngcontent-%COMP%]{margin-bottom:32px}.auth__form-email_forgot[_ngcontent-%COMP%]{margin-bottom:0}.auth__form-title[_ngcontent-%COMP%]{font-family:Gotham-Pro-Bold,sans-serif;font-size:24px;line-height:1.3;font-weight:700;margin-bottom:32px;color:var(--color-form-title)}.auth__form-input[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;padding:16px}.auth__form-input[_ngcontent-%COMP%]:first-of-type{margin-bottom:32px}.auth__form-btn[_ngcontent-%COMP%]{margin:54px 0 40px}.auth__form-btn_forgot[_ngcontent-%COMP%]{margin:34px 0 20px}.auth__form-account[_ngcontent-%COMP%], .auth__form-login[_ngcontent-%COMP%], .auth__form-forgot[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;margin-bottom:40px;color:var(--color-auth-account-text)}.auth__form-account-link[_ngcontent-%COMP%], .auth__form-login-link[_ngcontent-%COMP%], .auth__form-forgot-link[_ngcontent-%COMP%]{margin-left:4px;color:var(--color-auth-account-link-text);cursor:pointer}.auth__form-account-wrap[_ngcontent-%COMP%], .auth__form-login-wrap[_ngcontent-%COMP%], .auth__form-forgot-wrap[_ngcontent-%COMP%]{color:var(--color-auth-forgot-text)}.auth__form-gap[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;position:relative;margin-bottom:32px;color:var(--color-auth-gap-text)}.auth__form-gap[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:24%;transform:translate(-50%,-50%);content:"";width:124px;height:1px;background:var(--color-auth-gap-line)}.auth__form-gap[_ngcontent-%COMP%]:after{position:absolute;top:50%;right:0;transform:translate(-50%,-50%);content:"";width:124px;height:1px;background:var(--color-auth-gap-line)}.auth__form-btn-google[_ngcontent-%COMP%]{margin-bottom:32px}.auth__form-btn-google[disabled][_ngcontent-%COMP%]{color:var(--color-button-secondary-disabled-txt);border:1px solid #5a5a5b}.auth__form-btn-google[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:14px}.auth__form-btn-google-icon[_ngcontent-%COMP%]{width:24px;height:24px}.auth__form-policy[_ngcontent-%COMP%], .auth__form-register[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;color:var(--color-auth-policy-text)}.auth__form-policy-link[_ngcontent-%COMP%], .auth__form-register-link[_ngcontent-%COMP%]{color:var(--color-auth-policy-link-text);cursor:pointer}']})}}return i})();var Zf=["googleButton"],Jf=()=>["/"],hl=(()=>{class i{constructor(){this._store=a(se),this.googleButton=Gt.required("googleButton"),this.vm=Be(this._store.select(di.selectAuthViewModel)),this.controlName=xt,this.signUpText=He.signUp,this.authPopupType=ze,this.fb=a(ht)}ngOnInit(){this.form=this.fb.group({email:["",mi],password:["",On]})}onSubmit(){if(this.googleButton().nativeElement===document.activeElement)this._store.dispatch(V.googleAuth());else{let e=this.form.value;this._store.dispatch(V.register({request:e}))}}openAuthPopup(e){this._store.dispatch(V.openAuthPopup({popupType:e}))}closeRegisterPopup(){this._store.dispatch(V.closeAuthPopup())}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["mm-register"]],viewQuery:function(n,r){n&1&&Jt(r.googleButton,Zf,5),n&2&&Xt()},decls:27,vars:23,consts:[["googleButton",""],[1,"auth"],[1,"auth__form",3,"ngSubmit","formGroup"],["size","m",1,"auth__form-icon-close",3,"click","iconName"],[1,"auth__form-title"],[1,"auth__form-group"],[1,"auth__form-email",3,"placeholder","formGroup","formControlName"],[1,"auth__form-password",3,"placeholder","formGroup","formControlName"],["mmButton","","mmType","primary","size","l","type","submit",1,"auth__form-btn",3,"disabled"],[1,"auth__form-account"],[1,"auth__form-login-link",3,"click"],[1,"auth__form-gap"],["mmButton","","mmType","secondary","size","m","type","submit",1,"auth__form-btn-google",3,"fullWidth","disabled"],["size","m",1,"auth__form-btn-google-icon",3,"iconName"],[1,"auth__form-policy"],[1,"auth__form-policy-link",3,"routerLink"]],template:function(n,r){if(n&1){let o=Q();oe(0),h(1,"div",1)(2,"form",2),y("ngSubmit",function(){return C(o),w(r.onSubmit())}),h(3,"mm-icon",3),y("click",function(){return C(o),w(r.closeRegisterPopup())}),m(),h(4,"h3",4),f(5),m(),h(6,"fieldset",5),E(7,"mm-email-input",6)(8,"mm-password-input",7),h(9,"button",8),f(10),m()(),h(11,"p",9),f(12),h(13,"a",10),y("click",function(){return C(o),w(r.openAuthPopup(r.authPopupType.LOGIN))}),f(14),m()(),h(15,"p",11),f(16),m(),h(17,"button",12,0),E(19,"mm-icon",13),h(20,"span"),f(21),m()(),h(22,"p",14),f(23),h(24,"a",15),f(25),m(),f(26),m()()()}if(n&2){let o=r.vm();u(2),_("formGroup",r.form),u(),_("iconName","close"),u(2),N(r.signUpText.formTitle),u(2),_("placeholder",r.signUpText.emailPlaceholder)("formGroup",r.form)("formControlName",r.controlName.Email),u(),_("placeholder",r.signUpText.passwordPlaceholder)("formGroup",r.form)("formControlName",r.controlName.Password),u(),_("disabled",r.form.invalid||o.isSubmitting),u(),T(" ",r.signUpText.button," "),u(2),T(" ",r.signUpText.alreadySignUp," "),u(2),N(r.signUpText.signIn),u(2),N(r.signUpText.gap),u(),_("fullWidth",!0)("disabled",o.isGoogleSubmitting),u(2),_("iconName",o.isGoogleSubmitting?"google-disabled":"google"),u(2),N(r.signUpText.googleButton),u(2),T(" ",r.signUpText.policyStart," "),u(),_("routerLink",Fs(22,Jf)),u(),N(r.signUpText.policyLink),u(),T(" ",r.signUpText.policyEnd," ")}},dependencies:[We,dt,hi,je,Pn,Ee,ut,ye,Ie,Ce,we,Ys],styles:['.auth[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background:var(--color-auth-bg);-webkit-backdrop-filter:blur(50px);backdrop-filter:blur(50px);z-index:1000}.auth__form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;padding:48px 58px;text-align:center;background:var(--color-form-bg);border-radius:20px}.auth__form-icon-close[_ngcontent-%COMP%]{position:absolute;top:40px;right:40px;transform:translate(50%,-50%);width:24px;height:24px;cursor:pointer}.auth__form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.auth__form-email[_ngcontent-%COMP%]{margin-bottom:32px}.auth__form-email_forgot[_ngcontent-%COMP%]{margin-bottom:0}.auth__form-title[_ngcontent-%COMP%]{font-family:Gotham-Pro-Bold,sans-serif;font-size:24px;line-height:1.3;font-weight:700;margin-bottom:32px;color:var(--color-form-title)}.auth__form-input[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;padding:16px}.auth__form-input[_ngcontent-%COMP%]:first-of-type{margin-bottom:32px}.auth__form-btn[_ngcontent-%COMP%]{margin:54px 0 40px}.auth__form-btn_forgot[_ngcontent-%COMP%]{margin:34px 0 20px}.auth__form-account[_ngcontent-%COMP%], .auth__form-login[_ngcontent-%COMP%], .auth__form-forgot[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;margin-bottom:40px;color:var(--color-auth-account-text)}.auth__form-account-link[_ngcontent-%COMP%], .auth__form-login-link[_ngcontent-%COMP%], .auth__form-forgot-link[_ngcontent-%COMP%]{margin-left:4px;color:var(--color-auth-account-link-text);cursor:pointer}.auth__form-account-wrap[_ngcontent-%COMP%], .auth__form-login-wrap[_ngcontent-%COMP%], .auth__form-forgot-wrap[_ngcontent-%COMP%]{color:var(--color-auth-forgot-text)}.auth__form-gap[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;position:relative;margin-bottom:32px;color:var(--color-auth-gap-text)}.auth__form-gap[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:24%;transform:translate(-50%,-50%);content:"";width:124px;height:1px;background:var(--color-auth-gap-line)}.auth__form-gap[_ngcontent-%COMP%]:after{position:absolute;top:50%;right:0;transform:translate(-50%,-50%);content:"";width:124px;height:1px;background:var(--color-auth-gap-line)}.auth__form-btn-google[_ngcontent-%COMP%]{margin-bottom:32px}.auth__form-btn-google[disabled][_ngcontent-%COMP%]{color:var(--color-button-secondary-disabled-txt);border:1px solid #5a5a5b}.auth__form-btn-google[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:14px}.auth__form-btn-google-icon[_ngcontent-%COMP%]{width:24px;height:24px}.auth__form-policy[_ngcontent-%COMP%], .auth__form-register[_ngcontent-%COMP%]{font-family:Gotham-Pro-Regular,sans-serif;font-size:14px;line-height:1.5;font-weight:400;color:var(--color-auth-policy-text)}.auth__form-policy-link[_ngcontent-%COMP%], .auth__form-register-link[_ngcontent-%COMP%]{color:var(--color-auth-policy-link-text);cursor:pointer}']})}}return i})();var Xf=(i,t)=>t.id;function e_(i,t){if(i&1){let e=Q();h(0,"div",1)(1,"div",4),f(2,"C"),m(),h(3,"form",5),y("ngSubmit",function(){C(e);let r=b();return w(r.addComment())}),h(4,"fieldset"),E(5,"textarea",6),h(6,"button",7),f(7),m()()()()}if(i&2){let e=b();u(3),_("formGroup",e.form),u(3),_("disabled",e.isButtonDisabled),u(),T(" ",e.commentsText.addComment," ")}}function t_(i,t){if(i&1){let e=Q();h(0,"div",2),f(1),h(2,"span",8),y("click",function(){C(e);let r=b();return w(r.openLoginClicked.emit())}),f(3),m(),f(4),h(5,"span",8),y("click",function(){C(e);let r=b();return w(r.openRegisterClicked.emit())}),f(6),m()()}if(i&2){let e=b();u(),T(" ",e.commentsText.authFirst," "),u(2),N(e.commentsText.authSecond),u(),T(" ",e.commentsText.authThird," "),u(2),N(e.commentsText.authFourth)}}function i_(i,t){if(i&1&&(h(0,"div",10)(1,"div",12),f(2,"M"),m(),h(3,"div",13)(4,"div",14)(5,"span",15),f(6,"M.G."),m(),h(7,"span",16),f(8),Je(9,"date"),m()(),h(10,"p",17),f(11),m()()()),i&2){let e=t.$implicit;u(8),N(ei(9,2,e.date,"dd.MM.yyyy")),u(3),T(" ",e.comment," ")}}function n_(i,t){if(i&1){let e=Q();h(0,"button",18),y("click",function(){C(e);let r=b(3);return w(r.showMoreComments())}),f(1),m()}if(i&2){let e=b(3);u(),T(" ",e.commentsText.moreComments," ")}}function r_(i,t){if(i&1&&(h(0,"div",9),ge(1,i_,12,5,"div",10,Xf),Je(3,"reverse"),m(),S(4,n_,2,1,"button",11)),i&2){let e=b(2),n=J(0);u(),be(Fi(3,1,n).slice(0,e.displayedCommentsCount)),u(3),D(n.length>e.displayedCommentsCount?4:-1)}}function o_(i,t){if(i&1&&(qt(0),S(1,r_,5,3),Yt()),i&2){b();let e=J(0);u(),D(e?1:-1)}}function s_(i,t){i&1&&E(0,"mm-login")}function a_(i,t){i&1&&E(0,"mm-register")}var ml=(()=>{class i{constructor(){this.id=A(),this.comments=A(),this.isLoading=A(),this.isLoggedIn=A(),this.isLoginPopupOpen=A(),this.isRegisterPopupOpen=A(),this.openLoginClicked=Ze(),this.openRegisterClicked=Ze(),this.isButtonDisabled=!0,this.displayedCommentsCount=3,this.commentsText=He.filmDetails.comments,this.authPopupType=ze,this._store=a(se),this._fb=a(ht)}ngOnInit(){this.initializeForm()}initializeForm(){this.form=this._fb.group({comment:["",[et.required,et.email]]}),this.form.valueChanges.subscribe(()=>{this.isButtonDisabled=!this.form.get("comment").value})}addComment(){let e=this.form.value;this._store.dispatch(Te.addFilmComment({filmId:this.id(),comment:e})),this.form.reset()}showMoreComments(){this.displayedCommentsCount+=3}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["mm-film-comments"]],inputs:{id:[1,"id"],comments:[1,"comments"],isLoading:[1,"isLoading"],isLoggedIn:[1,"isLoggedIn"],isLoginPopupOpen:[1,"isLoginPopupOpen"],isRegisterPopupOpen:[1,"isRegisterPopupOpen"]},outputs:{openLoginClicked:"openLoginClicked",openRegisterClicked:"openRegisterClicked"},decls:7,vars:5,consts:[[1,"film-comments"],[1,"film-comments__wrap"],[1,"film-comments__auth"],[4,"uiSpinner"],[1,"film-comments__avatar"],[1,"film-comments__form",3,"ngSubmit","formGroup"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...","rows","3","formControlName","comment",1,"film-comments__form-text"],["mmButton","","mmType","primary","size","s",1,"film-comments__form-btn",3,"disabled"],[3,"click"],[1,"film-comments__items-wrap"],[1,"film-comments__item"],["mmButton","","mmType","simple","size","xxs",1,"film-comments__items-btn"],[1,"film-comments__item-avatar"],[1,"film-comments__item-wrap"],[1,"film-comments__item-top"],[1,"film-comments__item-name"],[1,"film-comments__item-date"],[1,"film-comments__item-text"],["mmButton","","mmType","simple","size","xxs",1,"film-comments__items-btn",3,"click"]],template:function(n,r){n&1&&(oe(0),h(1,"div",0),S(2,e_,8,3,"div",1)(3,t_,7,4,"div",2)(4,o_,2,1,"ng-container",3),m(),S(5,s_,1,0,"mm-login")(6,a_,1,0,"mm-register")),n&2&&(Et(r.comments()),u(2),D(r.isLoggedIn()?2:3),u(2),_("uiSpinner",r.isLoading()),u(),D(r.isLoginPopupOpen()===r.authPopupType.LOGIN?5:-1),u(),D(r.isRegisterPopupOpen()===r.authPopupType.REGISTER?6:-1))},dependencies:[dt,fn,Ee,ut,ni,ye,Ie,Ce,we,je,ci,ma,ul,hl],styles:[".film-comments__wrap[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:54px}.film-comments__auth[_ngcontent-%COMP%]{margin-bottom:60px;font-size:16px;font-weight:400;line-height:1.3}.film-comments__auth[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f80032;cursor:pointer}.film-comments__avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:78px;height:74px;margin-right:24px;font-size:42px;font-weight:400;line-height:1.2;background:#121416;border-radius:16px}.film-comments__form-text[_ngcontent-%COMP%]{width:486px;height:116px;padding:16px;margin-bottom:12px;color:#fff;background:transparent;border:1px solid rgb(142,142,142);border-radius:9px}.film-comments__form-text[_ngcontent-%COMP%]:focus, .film-comments__form-text[_ngcontent-%COMP%]:active{outline:none;box-shadow:none;border:1px solid rgb(142,142,142)}.film-comments__form-text[_ngcontent-%COMP%]::placeholder{color:#8e8e8e}.film-comments__form-btn[disabled][_ngcontent-%COMP%]{background:#63222e}.film-comments__items-wrap[_ngcontent-%COMP%]{max-width:792px}.film-comments__items-btn[_ngcontent-%COMP%]{margin-top:32px;color:#f80032;cursor:pointer}.film-comments__item[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.film-comments__item[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:54px}.film-comments__item-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:78px;height:74px;margin-right:24px;font-size:42px;font-weight:400;line-height:1.2;background:#121416;border-radius:16px}.film-comments__item-wrap[_ngcontent-%COMP%]{max-width:675px}.film-comments__item-top[_ngcontent-%COMP%]{margin-bottom:8px}.film-comments__item-name[_ngcontent-%COMP%]{margin-right:12px;font-size:14px;font-weight:700;line-height:1.4;color:#f9f8fe}.film-comments__item-date[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:1.4;color:#8e8e8e}.film-comments__item-text[_ngcontent-%COMP%]{color:#f9f8fe;font-size:16px;font-weight:400;line-height:1.3}"],changeDetection:0})}}return i})();var pl=(()=>{class i{constructor(){this.id=A(),this.likes=A(),this.dislikes=A(),this.isLiked=A(),this.isDisliked=A(),this.clickedAddVotes=Ze()}addLike(){this.isLiked()||(this.vote={likes:this.likes()+1,dislikes:this.dislikes()&&this.isDisliked()?this.dislikes()-1:this.dislikes(),isLiked:!0,isDisliked:!1},this.clickedAddVotes.emit(this.vote))}addDislike(){this.isDisliked()||(this.vote={dislikes:this.dislikes()+1,likes:this.likes()&&this.isLiked()?this.likes()-1:this.likes(),isLiked:!1,isDisliked:!0},this.clickedAddVotes.emit(this.vote))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["mm-film-votes"]],inputs:{id:[1,"id"],likes:[1,"likes"],dislikes:[1,"dislikes"],isLiked:[1,"isLiked"],isDisliked:[1,"isDisliked"]},outputs:{clickedAddVotes:"clickedAddVotes"},decls:14,vars:4,consts:[[1,"film__likes"],[1,"film__likes-wrap"],[1,"film__likes-wrap-left",3,"click"],[1,"film__likes-icon"],["size","m",1,"film__likes-icon-like",3,"iconName"],[1,"film__likes-count"],[1,"film__likes-wrap-right",3,"click"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),y("click",function(){return r.addLike()}),h(3,"div",3),E(4,"mm-icon",4),m(),h(5,"div",5)(6,"span"),f(7),m()()(),h(8,"div",6),y("click",function(){return r.addDislike()}),h(9,"div",3),E(10,"mm-icon",4),m(),h(11,"div",5)(12,"span"),f(13),m()()()()()),n&2&&(u(4),_("iconName",r.isLiked()?"liked":"like"),u(3),N(r.likes()),u(3),_("iconName",r.isDisliked()?"disliked":"dislike"),u(3),N(r.dislikes()))},dependencies:[We],styles:[".film__likes[_ngcontent-%COMP%]{display:flex}.film__likes-favourite[_ngcontent-%COMP%]{margin-right:6px}.film__likes-wrap[_ngcontent-%COMP%]{display:flex}.film__likes-wrap-left[_ngcontent-%COMP%], .film__likes-wrap-right[_ngcontent-%COMP%]{display:flex;height:46px;background:#121416;border-radius:10px}.film__likes-wrap-left[_ngcontent-%COMP%]{margin-right:16px}.film__likes-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:62px;cursor:pointer}.film__likes-count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:62px;font-size:16px;font-weight:400;line-height:1.3;color:#8e8e8e}.film__likes-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:4px}"],changeDetection:0})}}return i})();var fl=(()=>{class i{constructor(){this.imdbId=A(),this.title=A(),this.poster=A(),this._elementRef=a(K)}ngOnInit(){this.initKinoboxPlayer()}initKinoboxPlayer(){xe(this.imdbId()).subscribe(()=>{let e=document.createElement("script");e.src="https://kinobox.tv/kinobox.min.js?1",e.onload=()=>{kbox(".kinobox_player",{search:{imdb:this.imdbId(),title:this.title()},menu:{default:"menuList",mobile:"menuButton",format:"{N} :: {T} ({Q})",limit:5,open:!1},params:{all:{poster:"https://image.tmdb.org/t/p/original/"+this.poster()}}})},this._elementRef.nativeElement.appendChild(e)})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["mm-film-player"]],inputs:{imdbId:[1,"imdbId"],title:[1,"title"],poster:[1,"poster"]},decls:1,vars:0,consts:[[1,"kinobox_player"]],template:function(n,r){n&1&&E(0,"div",0)},styles:[".kinobox_player[_ngcontent-%COMP%]{height:600px;margin:0 auto 32px}"],changeDetection:0})}}return i})();var _l=(()=>{class i{constructor(){this.mmDescription=A(),this.isExpanded=!1,this._element=a(K),this._renderer=a(Wt)}ngOnInit(){this.updateDescription()}ngOnChanges(){this.updateDescription()}onClick(){this._element.nativeElement.classList.contains("film-details__description-more")&&this.toggleDescription()}updateDescription(){let e=this.mmDescription();if(e.length>250?this.isVisibleMoreButton=!0:this.isVisibleMoreButton=!1,e){let n;this.isExpanded||e.length<=250?n=e:n=e.slice(0,250)+"...",this._renderer.setProperty(this._element.nativeElement,"textContent",n)}}toggleDescription(){this.isExpanded=!this.isExpanded,this.updateDescription()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Y({type:i,selectors:[["","mmDescription",""]],hostBindings:function(n,r){n&1&&y("click",function(){return r.onClick()})},inputs:{mmDescription:[1,"mmDescription"]},exportAs:["mmInteractiveContent"],features:[jt]})}}return i})();var ur=new WeakMap,hr=(()=>{class i{_appRef;_injector=a(ce);_environmentInjector=a(on);load(e){let n=this._appRef=this._appRef||this._injector.get(Ms),r=ur.get(n);r||(r={loaders:new Set,refs:[]},ur.set(n,r),n.onDestroy(()=>{ur.get(n)?.refs.forEach(o=>o.destroy()),ur.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Dr(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function mr(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function c_(i){if(i.type==="characterData"&&i.target instanceof Comment)return!0;if(i.type==="childList"){for(let t=0;t<i.addedNodes.length;t++)if(!(i.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<i.removedNodes.length;t++)if(!(i.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var l_=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),d_=(()=>{class i{_mutationObserverFactory=a(l_);_observedElements=new Map;_ngZone=a(j);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){let n=Se(e);return new ke(r=>{let s=this._observeElement(n).pipe(q(c=>c.filter(l=>!c_(l))),Fe(c=>!!c.length)).subscribe(c=>{this._ngZone.run(()=>{r.next(c)})});return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let n=new $,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gl=(()=>{class i{_contentObserver=a(d_);_elementRef=a(K);event=new Z;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Rr(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Ht(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",X],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[_e]})}return i})();var D_=200,is=class{_letterKeyStream=new $;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new $;selectedItem=this._selectedItem;constructor(t,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:D_;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(It(e=>this._pressedLetters.push(e)),Ht(t),Fe(()=>this._pressedLetters.length>0),q(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},ns=class{_items;_activeItemIndex=-1;_activeItem=cn(null);_wrap=!1;_typeaheadSubscription=Ye.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Oi?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):an(t)&&(this._effectRef=Us(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new $;change=new $;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new is(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||mr(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),n=typeof t=="number"?t:e.indexOf(t),r=e[n];this._activeItem.set(r??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let r=(this._activeItemIndex+t*n+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=e,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return an(this._items)?this._items():this._items instanceof Oi?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let n=t.indexOf(e);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}};var _r=class extends ns{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};function rs(i){return i.buttons===0||i.detail===0}function os(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var R_=new G("cdk-input-modality-detector-options"),P_={ignoreKeys:[18,17,224,91,16]},bl=650,Ei=oi({passive:!0,capture:!0}),O_=(()=>{class i{_platform=a(De);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new yr(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=mt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<bl||(this._modality.next(rs(e)?"keyboard":"mouse"),this._mostRecentTarget=mt(e))};_onTouchstart=e=>{if(os(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=mt(e)};constructor(){let e=a(j),n=a(Xe),r=a(R_,{optional:!0});this._options=z(z({},P_),r),this.modalityDetected=this._modality.pipe(rn(1)),this.modalityChanged=this.modalityDetected.pipe(Di()),this._platform.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,Ei),n.addEventListener("mousedown",this._onMousedown,Ei),n.addEventListener("touchstart",this._onTouchstart,Ei)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ei),document.removeEventListener("mousedown",this._onMousedown,Ei),document.removeEventListener("touchstart",this._onTouchstart,Ei))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var fr=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(fr||{}),M_=new G("cdk-focus-monitor-default-options"),pr=oi({passive:!0,capture:!0}),vl=(()=>{class i{_ngZone=a(j);_platform=a(De);_inputModalityDetector=a(O_);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=a(Xe,{optional:!0});_stopInputModalityDetector=new $;constructor(){let e=a(M_,{optional:!0});this._detectionMode=e?.detectionMode||fr.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=mt(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=Se(e);if(!this._platform.isBrowser||r.nodeType!==1)return xe();let o=aa(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let c={checkChildren:n,subject:new $,rootNode:o};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){let n=Se(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=Se(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([c,l])=>this._originChanged(c,n,l)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===fr.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===fr.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?bl:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=mt(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,pr),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,pr)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Le(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pr),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pr),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),yl=(()=>{class i{_elementRef=a(K);_focusMonitor=a(vl);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new Z;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return i})();var ts={},ss=(()=>{class i{_appId=a(Ds);getId(e){return this._appId!=="ng"&&(e+=this._appId),ts.hasOwnProperty(e)||(ts[e]=0),`${e}${ts[e]++}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var N_=new G("cdk-dir-doc",{providedIn:"root",factory:F_});function F_(){return a(Xe)}var L_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function V_(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?L_.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ji=(()=>{class i{value="ltr";change=new Z;constructor(){let e=a(N_,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=V_(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Al=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=k({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return i})();var Ae=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Ae||{}),as=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Ae.HIDDEN;constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},Il=oi({passive:!0,capture:!0}),cs=class{_events=new Map;addHandler(t,e,n,r){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Il)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Il)))}_delegateEventHandler=t=>{let e=mt(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}},Cl={enterDuration:225,exitDuration:150},B_=800,wl=oi({passive:!0,capture:!0}),El=["mousedown","touchstart"],Tl=["mouseup","mouseleave","touchend","touchcancel"],U_=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=k({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return i})(),ls=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new cs;constructor(t,e,n,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Se(n)),o&&o.get(hr).load(U_)}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=z(z({},Cl),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let s=n.radius||z_(t,e,r),c=t-r.left,l=e-r.top,p=o.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=`${c-s}px`,g.style.top=`${l-s}px`,g.style.height=`${s*2}px`,g.style.width=`${s*2}px`,n.color!=null&&(g.style.backgroundColor=n.color),g.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(g);let x=window.getComputedStyle(g),L=x.transitionProperty,M=x.transitionDuration,pe=L==="none"||M==="0s"||M==="0s, 0s"||r.width===0&&r.height===0,Ne=new as(this,g,n,pe);g.style.transform="scale3d(1, 1, 1)",Ne.state=Ae.FADING_IN,n.persistent||(this._mostRecentTransientRipple=Ne);let ct=null;return!pe&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let Ai=()=>{ct&&(ct.fallbackTimer=null),clearTimeout(zt),this._finishRippleTransition(Ne)},Ut=()=>this._destroyRipple(Ne),zt=setTimeout(Ut,p+100);g.addEventListener("transitionend",Ai),g.addEventListener("transitioncancel",Ut),ct={onTransitionEnd:Ai,onTransitionCancel:Ut,fallbackTimer:zt}}),this._activeRipples.set(Ne,ct),(pe||!p)&&this._finishRippleTransition(Ne),Ne}fadeOutRipple(t){if(t.state===Ae.FADING_OUT||t.state===Ae.HIDDEN)return;let e=t.element,n=z(z({},Cl),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Ae.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Se(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,El.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Tl.forEach(e=>{this._triggerElement.addEventListener(e,this,wl)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ae.FADING_IN?this._startFadeOutTransition(t):t.state===Ae.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Ae.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ae.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=rs(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+B_;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!os(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Ae.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ae.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(El.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Tl.forEach(e=>t.removeEventListener(e,this,wl)),this._pointerUpEventsRegistered=!1))}};function z_(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var kl=new G("mat-ripple-global-options"),ds=(()=>{class i{_elementRef=a(K);_animationMode=a(Mi,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=a(j),n=a(De),r=a(kl,{optional:!0}),o=a(ce);this._globalOptions=r||{},this._rippleRenderer=new ls(this,e,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:z(z(z({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,z(z({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,z(z({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&re("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})();var Xi=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},us=class extends Xi{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=o}},Ti=class extends Xi{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},hs=class extends Xi{element;constructor(t){super(),this.element=t instanceof K?t.nativeElement:t}},ms=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof us)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ti)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof hs)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var xl=(()=>{class i extends Ti{constructor(){let e=a(Ct),n=a($t);super(e,n)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[le]})}return i})();var gr=(()=>{class i extends ms{_moduleRef=a(Os,{optional:!0});_document=a(Xe);_viewContainerRef=a($t);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new Z;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[le]})}return i})();var ps=class{_box;_destroyed=new $;_resizeSubject=new $;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ke(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Fe(e=>e.some(n=>n.target===t)),Er({bufferSize:1,refCount:!0}),Le(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Sl=(()=>{class i{_cleanupErrorListener;_observers=new Map;_ngZone=a(j);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new ps(r)),this._observers.get(r).observe(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var H_=20,j_=(()=>{class i{_ngZone=a(j);_platform=a(De);_renderer=a(Tr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new $;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=H_){return this._platform.isBrowser?new ke(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(wr(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):xe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Fe(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_scrollableContainsElement(e,n){let r=Se(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Dl=(()=>{class i{elementRef=a(K);scrollDispatcher=a(j_);ngZone=a(j);dir=a(Ji,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new $;_renderer=a(Wt);_cleanupScroll;_elementScrolled=new $;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&ai()!=si.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),ai()==si.INVERTED?e.left=e.right:ai()==si.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;sa()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",r="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?r:n:e=="end"&&(e=s?n:r),s&&ai()==si.INVERTED?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&ai()==si.NEGATED?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return i})(),W_=20,Rl=(()=>{class i{_platform=a(De);_listeners;_viewportSize;_change=new $;_document=a(Xe,{optional:!0});constructor(){let e=a(j),n=a(Tr).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,c=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:c}}change(e=W_){return e>0?this._change.pipe(wr(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var bs=["*"];function K_(i,t){i&1&&Zt(0)}var q_=["tabListContainer"],Y_=["tabList"],Q_=["tabListInner"],Z_=["nextPaginator"],J_=["previousPaginator"],X_=i=>({animationDuration:i}),eg=(i,t)=>({value:i,params:t});function tg(i,t){}var ig=["tabBodyWrapper"],ng=["tabHeader"];function rg(i,t){}function og(i,t){if(i&1&&S(0,rg,0,0,"ng-template",12),i&2){let e=b().$implicit;_("cdkPortalOutlet",e.templateLabel)}}function sg(i,t){if(i&1&&f(0),i&2){let e=b().$implicit;N(e.textLabel)}}function ag(i,t){if(i&1){let e=Q();h(0,"div",7,2),y("click",function(){let r=C(e),o=r.$implicit,s=r.$index,c=b(),l=wt(1);return w(c._handleClick(o,l,s))})("cdkFocusChange",function(r){let o=C(e).$index,s=b();return w(s._tabFocusChanged(r,o))}),E(2,"span",8)(3,"div",9),h(4,"span",10)(5,"span",11),S(6,og,1,1,null,12)(7,sg,1,1),m()()()}if(i&2){let e=t.$implicit,n=t.$index,r=wt(1),o=b();dn(e.labelClass),re("mdc-tab--active",o.selectedIndex===n),_("id",o._getTabLabelId(n))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),Ve("tabIndex",o._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),u(3),_("matRippleTrigger",r)("matRippleDisabled",e.disabled||o.disableRipple),u(3),D(e.templateLabel?6:7)}}function cg(i,t){i&1&&Zt(0)}function lg(i,t){if(i&1){let e=Q();h(0,"mat-tab-body",13),y("_onCentered",function(){C(e);let r=b();return w(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){C(e);let o=b();return w(o._setTabBodyWrapperHeight(r))}),m()}if(i&2){let e=t.$implicit,n=t.$index,r=b();dn(e.bodyClass),re("mat-mdc-tab-body-active",r.selectedIndex===n),_("id",r._getTabContentId(n))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ve("tabindex",r.contentTabIndex!=null&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}var dg=new G("MatTabContent"),ug=(()=>{class i{template=a(Ct);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["","matTabContent",""]],features:[de([{provide:dg,useExisting:i}])]})}return i})(),hg=new G("MatTabLabel"),Ml=new G("MAT_TAB"),vs=(()=>{class i extends xl{_closestTab=a(Ml,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=Y({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[de([{provide:hg,useExisting:i}]),le]})}return i})(),Nl=new G("MAT_TAB_GROUP"),ys=(()=>{class i{_viewContainerRef=a($t);_closestTabGroup=a(Nl,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new $;position=null;origin=null;isActive=!1;constructor(){a(hr).load(Al)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ti(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=k({type:i,selectors:[["mat-tab"]],contentQueries:function(n,r,o){if(n&1&&(Ni(o,vs,5),Ni(o,ug,7,Ct)),n&2){let s;te(s=ie())&&(r.templateLabel=s.first),te(s=ie())&&(r._explicitContent=s.first)}},viewQuery:function(n,r){if(n&1&&ve(Ct,7),n&2){let o;te(o=ie())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",X],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[de([{provide:Ml,useExisting:i}]),_e,jt],ngContentSelectors:bs,decls:1,vars:0,template:function(n,r){n&1&&(Qt(),S(0,K_,1,0,"ng-template"))},encapsulation:2})}return i})(),fs="mdc-tab-indicator--active",Pl="mdc-tab-indicator--no-transition",_s=class{_items;_currentItem;constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar()),this._currentItem=void 0}alignToElement(t){let e=this._items.find(r=>r.elementRef.nativeElement===t),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){let r=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},mg=(()=>{class i{_elementRef=a(K);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(fs);return}let r=n.getBoundingClientRect(),o=e.width/r.width,s=e.left-r.left;n.classList.add(Pl),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),n.getBoundingClientRect(),n.classList.remove(Pl),n.classList.add(fs),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(fs)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",X]},features:[_e]})}return i})();var Fl=(()=>{class i extends mg{elementRef=a(K);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=Y({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){n&2&&(Ve("aria-disabled",!!r.disabled),re("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",X]},features:[_e,le]})}return i})(),Ol={passive:!0},pg=650,fg=100,_g=(()=>{class i{_elementRef=a(K);_changeDetectorRef=a(ti);_viewportRuler=a(Rl);_dir=a(Ji,{optional:!0});_ngZone=a(j);_platform=a(De);_sharedResizeObserver=a(Sl);_injector=a(ce);_renderer=a(Wt);_animationMode=a(Mi,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new $;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new $;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}_selectedIndex=0;selectFocusedIndex=new Z;indexFocused=new Z;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Pr(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),Ol),Pr(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),Ol))}ngAfterContentInit(){let e=this._dir?this._dir.change:xe("ltr"),n=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Ht(32),Le(this._destroyed)),r=this._viewportRuler.change(150).pipe(Le(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new _r(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),ln(o,{injector:this._injector}),nn(e,r,n,this._items.changes,this._itemsResized()).pipe(Le(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?As:this._items.changes.pipe(Ri(this._items),U(e=>new ke(n=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(o=>n.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),rn(1),Fe(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!mr(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let n=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?n.scrollLeft=0:n.scrollLeft=n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,n=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let n=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*n/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let n=this._items?this._items.toArray()[e]:null;if(!n)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=n.elementRef.nativeElement,c,l;this._getLayoutDirection()=="ltr"?(c=o,l=c+s):(l=this._tabListInner.nativeElement.offsetWidth-o,c=l-s);let p=this.scrollDistance,g=this.scrollDistance+r;c<p?this.scrollDistance-=p-c:l>g&&(this.scrollDistance+=Math.min(l-g,c-p))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,n=this._elementRef.nativeElement.offsetWidth,r=e-n>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,n=this._tabListContainer.nativeElement.offsetWidth;return e-n||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&n.button!=null&&n.button!==0||(this._stopInterval(),ks(pg,fg).pipe(Le(nn(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(o===0||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,inputs:{disablePagination:[2,"disablePagination","disablePagination",X],selectedIndex:[2,"selectedIndex","selectedIndex",mn]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[_e]})}return i})(),gg=(()=>{class i extends _g{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new _s(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275cmp=k({type:i,selectors:[["mat-tab-header"]],contentQueries:function(n,r,o){if(n&1&&Ni(o,Fl,4),n&2){let s;te(s=ie())&&(r._items=s)}},viewQuery:function(n,r){if(n&1&&(ve(q_,7),ve(Y_,7),ve(Q_,7),ve(Z_,5),ve(J_,5)),n&2){let o;te(o=ie())&&(r._tabListContainer=o.first),te(o=ie())&&(r._tabList=o.first),te(o=ie())&&(r._tabListInner=o.first),te(o=ie())&&(r._nextPaginator=o.first),te(o=ie())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){n&2&&re("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",X]},features:[_e,le],ngContentSelectors:bs,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(n,r){if(n&1){let o=Q();Qt(),h(0,"div",5,0),y("click",function(){return C(o),w(r._handlePaginatorClick("before"))})("mousedown",function(c){return C(o),w(r._handlePaginatorPress("before",c))})("touchend",function(){return C(o),w(r._stopInterval())}),E(2,"div",6),m(),h(3,"div",7,1),y("keydown",function(c){return C(o),w(r._handleKeydown(c))}),h(5,"div",8,2),y("cdkObserveContent",function(){return C(o),w(r._onContentChanges())}),h(7,"div",9,3),Zt(9),m()()(),h(10,"div",10,4),y("mousedown",function(c){return C(o),w(r._handlePaginatorPress("after",c))})("click",function(){return C(o),w(r._handlePaginatorClick("after"))})("touchend",function(){return C(o),w(r._stopInterval())}),E(12,"div",6),m()}n&2&&(re("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),_("matRippleDisabled",r._disableScrollBefore||r.disableRipple),u(3),re("_mat-animation-noopable",r._animationMode==="NoopAnimations"),u(2),Ve("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),u(5),re("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),_("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[ds,gl],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return i})(),bg=new G("MAT_TABS_CONFIG"),vg={translateTab:Ws("translateTab",[bn("center, void, left-origin-center, right-origin-center",ii({transform:"none",visibility:"visible"})),bn("left",ii({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),bn("right",ii({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),vn("* => left, * => right, left => center, right => center",gn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),vn("void => left-origin-center",[ii({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),gn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),vn("void => right-origin-center",[ii({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),gn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},yg=(()=>{class i extends gr{_host=a(Ll);_centeringSub=Ye.EMPTY;_leavingSub=Ye.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ri(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["","matTabBodyHost",""]],features:[le]})}return i})(),Ll=(()=>{class i{_elementRef=a(K);_dir=a(Ji,{optional:!0});_positionIndex;_dirChangeSubscription=Ye.EMPTY;_position;_translateTabComplete=new $;_onCentering=new Z;_beforeCentering=new Z;_afterLeavingCenter=new Z;_onCentered=new Z(!0);_portalHost;_content;origin;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=a(ti);this._dirChangeSubscription=this._dir.change.subscribe(n=>{this._computePositionAnimationState(n),e.markForCheck()})}this._translateTabComplete.subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let n=this._getLayoutDirection();return n=="ltr"&&e<=0||n=="rtl"&&e>0?"left-origin-center":"right-origin-center"}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=k({type:i,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(n&1&&ve(gr,5),n&2){let o;te(o=ie())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){if(n&1){let o=Q();h(0,"div",1,0),y("@translateTab.start",function(c){return C(o),w(r._onTranslateTabStarted(c))})("@translateTab.done",function(c){return C(o),w(r._translateTabComplete.next(c))}),S(2,tg,0,0,"ng-template",2),m()}n&2&&_("@translateTab",Vs(3,eg,r._position,Ls(1,X_,r.animationDuration)))},dependencies:[yg,Dl],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[vg.translateTab]}})}return i})(),Ig=!0,Vl=(()=>{class i{_elementRef=a(K);_changeDetectorRef=a(ti);_animationMode=a(Mi,{optional:!0});_allTabs;_tabBodyWrapper;_tabHeader;_tabs=new Oi;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;_tabsSubscription=Ye.EMPTY;_tabLabelSubscription=Ye.EMPTY;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!Ig)throw new Error("mat-tab-group background color must be set through the Sass theming API");let n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new Z;focusChange=new Z;animationDone=new Z;selectedTabChange=new Z(!0);_groupId;_isServer=!a(De).isBrowser;constructor(){let e=a(bg,{optional:!0});this._groupId=a(ss).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let n=this._selectedIndex==null;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-e,this._selectedIndex!=null&&n.position==0&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let n=this._tabs.toArray(),r;for(let o=0;o<n.length;o++)if(n[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=n[o];break}!r&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ri(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let n=new gs;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=nn(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`${this._groupId}-label-${e}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,r){n.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let n=this._lastFocusedTabIndex??this.selectedIndex;return e===n?0:-1}_tabFocusChanged(e,n){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=n)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=k({type:i,selectors:[["mat-tab-group"]],contentQueries:function(n,r,o){if(n&1&&Ni(o,ys,5),n&2){let s;te(s=ie())&&(r._allTabs=s)}},viewQuery:function(n,r){if(n&1&&(ve(ig,5),ve(ng,5)),n&2){let o;te(o=ie())&&(r._tabBodyWrapper=o.first),te(o=ie())&&(r._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(n,r){n&2&&(Ve("mat-align-tabs",r.alignTabs),dn("mat-"+(r.color||"primary")),Ar("--mat-tab-animation-duration",r.animationDuration),re("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",X],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",X],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",X],selectedIndex:[2,"selectedIndex","selectedIndex",mn],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",mn],disablePagination:[2,"disablePagination","disablePagination",X],disableRipple:[2,"disableRipple","disableRipple",X],preserveContent:[2,"preserveContent","preserveContent",X],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[de([{provide:Nl,useExisting:i}]),_e],ngContentSelectors:bs,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(n,r){if(n&1){let o=Q();Qt(),h(0,"mat-tab-header",3,0),y("indexFocused",function(c){return C(o),w(r._focusChanged(c))})("selectFocusedIndex",function(c){return C(o),w(r.selectedIndex=c)}),ge(2,ag,8,17,"div",4,Kt),m(),S(4,cg,1,0),h(5,"div",5,1),ge(7,lg,1,13,"mat-tab-body",6,Kt),m()}n&2&&(_("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),u(2),be(r._tabs),u(2),D(r._isServer?4:-1),u(),re("_mat-animation-noopable",r._animationMode==="NoopAnimations"),u(2),be(r._tabs))},dependencies:[gg,Fl,yl,ds,gr,Ll],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return i})(),gs=class{index;tab};var Bl=(()=>{class i{constructor(e){this.router=e,this.title=A(),this.mediaType=A(),this.filmsType=Tn,this.filmsMedia=ra}ngOnInit(){this.initValues(),this.baseUrl=window.location.origin}initValues(){switch(this.mediaType()){case this.filmsType.Movie:this.contentType=ia;break;case this.filmsType.Tv:this.contentType=na;break}}goToMedia(){let e=this.mediaType()===this.filmsType.Movie?this.filmsMedia.Movies:this.filmsMedia.Tv;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}static{this.\u0275fac=function(n){return new(n||i)(Ps(In))}}static{this.\u0275cmp=k({type:i,selectors:[["mm-breadcrumbs"]],inputs:{title:[1,"title"],mediaType:[1,"mediaType"]},decls:13,vars:2,consts:[[1,"breadcrumbs"],[1,"breadcrumbs__list"],[1,"breadcrumbs__list-item"],["href","/"],[1,"breadcrumbs__list-item","breadcrumbs__list-item--media",3,"click"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"ol",1)(2,"li",2)(3,"a",3),f(4,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),m()(),h(5,"li",4),y("click",function(){return r.goToMedia()}),h(6,"span"),f(7,"/"),m(),f(8),h(9,"span"),f(10,"/"),m()(),h(11,"li",2),f(12),m()()()),n&2&&(u(8),N(r.contentType),u(4),T(" ",r.title()," "))},styles:[".breadcrumbs[_ngcontent-%COMP%]{margin-bottom:42px;font-size:12px;font-style:normal;font-weight:400;line-height:1.4;color:#fff}.breadcrumbs__list[_ngcontent-%COMP%]{display:flex;align-items:center}.breadcrumbs__list-item--media[_ngcontent-%COMP%]{color:#f80032;cursor:pointer}.breadcrumbs__list-item--media[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px;color:#fff}"]})}}return i})();function Cg(i,t){if(i&1&&E(0,"mm-film-player",3),i&2){b(3);let e=J(1);_("imdbId",e.filmImdbId)("title",e.title)("poster",e.playerPoster)}}function wg(i,t){if(i&1){let e=Q();h(0,"mm-film-to-favourite",27),Je(1,"isInArray"),y("clickedFavouriteButton",function(){C(e);let r=b(3),o=J(1);return w(r.toggleFavouriteFilm(o))}),m()}if(i&2){b(3);let e=J(0),n=J(1);_("isFilmInFavourite",ei(1,1,n.filmId,e.favouriteFilmsIds))}}function Eg(i,t){if(i&1&&(h(0,"ui-tooltip",8),E(1,"mm-film-to-favourite",28),m()),i&2){let e=b(3);_("tooltip",e.detailsText.tooltipFavouritesText)("position","left")}}function Tg(i,t){if(i&1){let e=Q();h(0,"button",31),y("click",function(){C(e),b();let r=wt(1);return w(r.toggleDescription())}),h(1,"span"),f(2),m()()}if(i&2){b();let e=wt(1),n=b(3);u(2),T(" ",e.isExpanded?n.detailsText.description.collapse:n.detailsText.description.more," ")}}function Ag(i,t){if(i&1&&(E(0,"div",29,0),S(2,Tg,3,1,"button",30)),i&2){let e=wt(1);b(3);let n=J(1);_("mmDescription",n.overview),u(2),D(e.isVisibleMoreButton?2:-1)}}function kg(i,t){if(i&1&&(h(0,"div",21),f(1),Je(2,"titlecase"),m()),i&2){let e=t.$implicit,n=t.$index,r=t.$count;u(),hn("",Fi(2,2,e.name),"",n===r-1?"":", ","")}}function xg(i,t){if(i&1&&(h(0,"div",21),f(1),Je(2,"titlecase"),m()),i&2){let e=t.$implicit,n=t.$index,r=t.$count;u(),hn("",Fi(2,2,e.name),"",n===r-1?"":", ","")}}function Sg(i,t){if(i&1&&E(0,"mm-film-actors",23),i&2){let e=b(3),n=J(1);_("id",n.filmId)("mediaType",e.mediaType)}}function Dg(i,t){if(i&1&&(f(0),h(1,"span",32),f(2),m()),i&2){let e=b(3);T(" ",e.detailsText.tabs.comments," "),u(2),T(" ",e.numberOfComments()," ")}}function Rg(i,t){if(i&1){let e=Q();h(0,"mm-film-comments",33),y("openLoginClicked",function(){C(e);let r=b(3);return w(r.openAuthPopup(r.authPopupType.LOGIN))})("openRegisterClicked",function(){C(e);let r=b(3);return w(r.openAuthPopup(r.authPopupType.REGISTER))}),m()}if(i&2){b(3);let e=J(0),n=J(1);_("id",n.filmId)("comments",e==null?null:e.comments)("isLoading",e.isLoadingComments)("isLoggedIn",e.isLoggedIn)("isLoginPopupOpen",e.authPopupOpen)("isRegisterPopupOpen",e.authPopupOpen)}}function Pg(i,t){if(i&1){let e=Q();h(0,"div",2),S(1,Cg,1,3,"mm-film-player",3),h(2,"div",4)(3,"div",5),E(4,"mm-breadcrumbs",6),h(5,"div",5),S(6,wg,2,4,"mm-film-to-favourite",7)(7,Eg,2,2,"ui-tooltip",8),h(8,"mm-film-votes",9),y("clickedAddVotes",function(r){C(e);let o=b(2);return w(o.handleAddVotes(r))}),m()()(),h(9,"div",10),f(10),h(11,"span",11),f(12),Je(13,"date"),m()(),h(14,"mat-tab-group",12),y("selectedIndexChange",function(r){C(e);let o=b(2);return w(o.tabChanged(r))}),h(15,"mat-tab",13)(16,"div",14)(17,"div",15)(18,"div",16),E(19,"mm-genres",17),m(),S(20,Ag,3,2),m(),h(21,"ul",18)(22,"li",19)(23,"h2",20),f(24),m(),h(25,"div",21),f(26),Je(27,"number"),m()(),h(28,"li",19)(29,"h2",20),f(30),m(),ge(31,kg,3,4,"div",21,Kt),m(),h(33,"li",19)(34,"h2",20),f(35),m(),h(36,"div",21),f(37),m()(),h(38,"li",19)(39,"h2",20),f(40),m(),h(41,"div",21),f(42),m()(),h(43,"li",19)(44,"h2",20),f(45),m(),ge(46,xg,3,4,"div",21,Kt),m(),h(48,"li",19)(49,"h2",20),f(50),m(),h(51,"div",21),f(52),m()()()()(),h(53,"mat-tab",22),S(54,Sg,1,2,"mm-film-actors",23),m(),h(55,"mat-tab"),S(56,Dg,3,2,"ng-template",24)(57,Rg,1,6,"mm-film-comments",25),m()(),h(58,"mm-films-list",26),y("clickedFavouriteButton",function(r){C(e);let o=b(2);return w(o.toggleFavouriteFilm(r))}),m()()()}if(i&2){let e=b(2),n=J(0),r=J(1);u(),D(r.filmImdbId?1:-1),u(3),_("title",r.title||r.name)("mediaType",e.mediaType),u(2),D(n.isLoggedIn?6:7),u(2),_("id",r.filmId)("likes",n.likes)("dislikes",n.dislikes)("isLiked",n.isLiked)("isDisliked",n.isDisliked),u(2),T(" ",r.title||r.name," "),u(2),N(ei(13,33,r.releaseDate||r.firstAirDate,"yyyy")),u(3),kr("label",e.detailsText.tabs.description),u(4),_("genres",r.genres),u(),D(r.overview?20:-1),u(4),T(" ",e.detailsText.description.rate," "),u(2),T(" ",ei(27,36,r.voteAverage,"1.1-1")," "),u(4),T(" ",e.detailsText.description.country," "),u(),be(r.productionCountries),u(4),T(" ",r.budget?e.detailsText.description.budget:e.detailsText.description.episodes," "),u(2),T(" ",r.budget?r.budget+e.detailsText.description.budgetCurrency:r.numberOfEpisodes," "),u(3),T(" ",e.mediaType===e.filmsType.Movie?e.detailsText.description.runtime:e.detailsText.description.seasons," "),u(2),hn(" ",r.filmRuntime?r.filmRuntime:r.numberOfSeasons," ",e.mediaType===e.filmsType.Movie?e.detailsText.description.runtimeSize:""," "),u(3),T(" ",e.detailsText.description.studio," "),u(),be(r.productionCompanies),u(4),T(" ",e.detailsText.description.status," "),u(2),T(" ",r.status," "),u(),kr("label",e.detailsText.tabs.actors),u(),D(e.showActors?54:-1),u(3),D(e.showComments?57:-1),u(),_("films",n.filmsSimilar)("mediaType",e.mediaType)("favouriteFilmsIds",n.favouriteFilmsIds)("isDetails",!0)("isLoggedIn",n.isLoggedIn)}}function Og(i,t){if(i&1&&(qt(0),S(1,Pg,59,39,"div",2),Yt()),i&2){b();let e=J(1);u(),D(e?1:-1)}}var Ul=(()=>{class i{constructor(){this._store=a(se),this._localStorageService=a(ae),this.vm=Be(this._store.select(Sn.selectFilmDetailsViewModel)),this.numberOfComments=pn(()=>this.vm().comments?.length),this.onAddFavouriteFilm=Ze(),this.showActors=!1,this.showComments=!1,this.userLocalId=this._localStorageService.get("userLocalId"),this.filmsType=Tn,this.detailsText=He.filmDetails.details,this.authPopupType=ze,this._destroyRef=a(xs),this._route=a(qs),this._favouriteFilmsService=a(oa)}ngOnInit(){this.initValues(),this._store.dispatch(Te.opened({filmId:this.id,mediaType:this.mediaType}))}initValues(){this._route.params.pipe(Qs(this._destroyRef)).subscribe(e=>{this.id=e.id,this.mediaType=e.mediaType,this._localStorageService.set("filmId",this.id)})}tabChanged(e){e===1&&this.showActorsTabContent(),e===2&&this.showCommentsTabContent()}showActorsTabContent(){this.showActors=!0}showCommentsTabContent(){this.showComments=!0}handleAddVotes(e){this._store.dispatch(Te.addFilmVote(z({filmId:this.id},e)))}toggleFavouriteFilm(e){this._favouriteFilmsService.onToggleFavouriteFilm(e.filmId,e.posterPath,e.title,e.voteAverage,e.releaseDate,e.genres,this.mediaType,this.vm().favouriteFilmsIds,this.userLocalId)}openAuthPopup(e){this._store.dispatch(V.openAuthPopup({popupType:e}))}ngOnDestroy(){this._store.dispatch(Te.closed())}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=k({type:i,selectors:[["mm-film-details"]],outputs:{onAddFavouriteFilm:"onAddFavouriteFilm"},decls:3,vars:3,consts:[["description","mmInteractiveContent"],[4,"uiSpinner"],[1,"film-details"],[3,"imdbId","title","poster"],[1,"container"],[1,"film-details__wrapper"],[3,"title","mediaType"],[1,"film-details__favourite-icon",3,"isFilmInFavourite"],[3,"tooltip","position"],[1,"film-details__likes",3,"clickedAddVotes","id","likes","dislikes","isLiked","isDisliked"],[1,"film-details__title"],[1,"film-details__title-year"],["dynamicHeight","","animationDuration","1500ms",1,"film-details__tabs",3,"selectedIndexChange"],[3,"label"],[1,"film-details__wrap"],[1,"film-details__description-wrap"],[1,"film-details__genres"],[3,"genres"],[1,"film-details__info"],[1,"film-details__info-item"],[1,"film-details__info-subtitle"],[1,"film-details__info-text"],[1,"film-details__actors",3,"label"],[3,"id","mediaType"],["mat-tab-label",""],[3,"id","comments","isLoading","isLoggedIn","isLoginPopupOpen","isRegisterPopupOpen"],[1,"gradient-border","gradient-border_top",3,"clickedFavouriteButton","films","mediaType","favouriteFilmsIds","isDetails","isLoggedIn"],[1,"film-details__favourite-icon",3,"clickedFavouriteButton","isFilmInFavourite"],[1,"film-details__favourite-icon"],[1,"film-details__description",3,"mmDescription"],["mmButton","","mmType","simple","size","xxs",1,"film-details__description-more"],["mmButton","","mmType","simple","size","xxs",1,"film-details__description-more",3,"click"],[1,"film-details__comments-count"],[3,"openLoginClicked","openRegisterClicked","id","comments","isLoading","isLoggedIn","isLoginPopupOpen","isRegisterPopupOpen"]],template:function(n,r){if(n&1&&(oe(0)(1),S(2,Og,2,1,"ng-container",1)),n&2){let o=Et(r.vm());u(),Et(r.vm().details),u(),_("uiSpinner",o.isLoading)}},dependencies:[_a,ci,Ks,fl,Bl,fn,Vl,ys,zs,_l,je,Hs,xa,ml,pl,vs,va,pa,ba,ya,ga],styles:[`.film-details{padding-top:96px;color:#fff}.film-details .container{position:relative;padding-top:12px}.film-details__wrapper{display:flex;justify-content:space-between}.film-details__wrap{display:flex}.film-details__favourite-icon{margin-right:16px;cursor:pointer}.film-details__title{margin-bottom:40px;font-size:32px;font-style:normal;font-weight:400;line-height:1;color:#f9f8fe}.film-details__title-year{margin-left:32px;color:#8e8e8e}.film-details .mat-mdc-tab-body:nth-child(2){min-height:390px}.film-details__tabs{font-family:Gotham-Pro-Regular,sans-serif;font-size:16px;line-height:1.3;font-weight:400;margin-bottom:90px;color:#f9f8fe}.film-details__tabs.mat-mdc-tab-body-content{padding-top:40px!important}.film-details__tabs .mat-mdc-tab-label-container{flex-grow:unset}.film-details__tabs .mat-mdc-tab{min-width:unset;padding:0}.film-details__tabs .mat-mdc-tab:not(.mdc-tab--stacked){height:unset}.film-details__tabs .mat-mdc-tab:not(:last-of-type){margin-right:32px}.film-details__tabs .mat-mdc-tab .mdc-tab__text-label,.film-details__tabs .mat-mdc-tab.mdc-tab--active .mdc-tab__text-label,.film-details__tabs .mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label,.film-details__tabs .mat-mdc-tab:hover .mdc-tab__text-label,.film-details__tabs .mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{font-size:16px;font-style:normal;font-weight:400;line-height:1.4;color:#f9f8fe}.film-details__tabs .mat-mdc-tab .mdc-tab-indicator__content--underline,.film-details__tabs .mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline,.film-details__tabs .mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-radius:0;position:relative;border-color:transparent}.film-details__tabs .mat-mdc-tab .mdc-tab-indicator__content--underline:after{content:"";position:absolute;top:-2px;left:0;width:100%;height:2px;background:linear-gradient(90deg,#0000,#f80032,#0000);border-radius:0}.film-details__tabs .mat-mdc-tab.mat-mdc-tab:not(.mdc-tab--stacked){height:30px}.film-details__tabs .mat-mdc-tab-body-content{padding-top:24px}.film-details__comments-count{font-family:Gotham-Pro-Bold,sans-serif;font-size:18px;line-height:1.3;font-weight:700;margin-left:8px;color:#f80032}.film-details__genres{margin-bottom:24px}.film-details__genres span{font-family:Gotham-Pro-Bold,sans-serif;font-size:16px;line-height:1.3;font-weight:700}.film-details__description-wrap{min-width:49%;margin-right:60px}.film-details__info{display:flex;align-content:flex-start;column-gap:50px;row-gap:30px;flex-wrap:wrap;min-width:46%}.film-details__info-item{width:150px}.film-details__info-subtitle{font-family:Gotham-Pro-Bold,sans-serif;font-size:18px;line-height:1.3;font-weight:700}.mat-mdc-tab-body:nth-child(2)>.mat-mdc-tab-body-content{padding-top:60px}
`],encapsulation:2})}}return i})();var vk=[{path:":mediaType/:id",component:Ul,providers:[ka()]}];export{fy as a,_y as b,NI as c,FI as d,pt as e,Ia as f,Ng as g,Ca as h,Vg as i,wa as j,Ea as k,ft as l,Ta as m,Te as n,I as o,ed as p,td as q,id as r,nd as s,rd as t,od as u,sd as v,ad as w,cd as x,ld as y,dd as z,ud as A,xn as B,kt as C,Sn as D,ka as E,xa as F,bu as G,uC as H,MC as I,ul as J,hl as K,ml as L,pl as M,fl as N,_l as O,Ul as P,vk as Q};
